/*! it - v0.2.2 - 2013-02-28
* http://doug-martin.github.com/it
* Copyright (c) 2013 [object Object]; Licensed  */
(function(){var e=function(t,n){var r=e.resolve(t,n||"/"),i=e.modules[r];if(!i)throw new Error("Failed to resolve module "+t+", tried "+r);var s=e.cache[r],o=s?s.exports:i();return o};e.paths=[],e.modules={},e.cache={},e.extensions=[".js",".coffee",".json"],e._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},e.resolve=function(){return function(t,n){function u(t){t=r.normalize(t);if(e.modules[t])return t;for(var n=0;n<e.extensions.length;n++){var i=e.extensions[n];if(e.modules[t+i])return t+i}}function a(t){t=t.replace(/\/+$/,"");var n=r.normalize(t+"/package.json");if(e.modules[n]){var i=e.modules[n](),s=i.browserify;if(typeof s=="object"&&s.main){var o=u(r.resolve(t,s.main));if(o)return o}else if(typeof s=="string"){var o=u(r.resolve(t,s));if(o)return o}else if(i.main){var o=u(r.resolve(t,i.main));if(o)return o}}return u(t+"/index")}function f(e,t){var n=l(t);for(var r=0;r<n.length;r++){var i=n[r],s=u(i+"/"+e);if(s)return s;var o=a(i+"/"+e);if(o)return o}var s=u(e);if(s)return s}function l(e){var t;e==="/"?t=[""]:t=r.normalize(e).split("/");var n=[];for(var i=t.length-1;i>=0;i--){if(t[i]==="node_modules")continue;var s=t.slice(0,i+1).join("/")+"/node_modules";n.push(s)}return n}n||(n="/");if(e._core[t])return t;var r=e.modules.path();n=r.resolve("/",n);var i=n||"/";if(t.match(/^(?:\.\.?\/|\/)/)){var s=u(r.resolve(i,t))||a(r.resolve(i,t));if(s)return s}var o=f(t,i);if(o)return o;throw new Error("Cannot find module '"+t+"'")}}(),e.alias=function(t,n){var r=e.modules.path(),i=null;try{i=e.resolve(t+"/package.json","/")}catch(s){i=e.resolve(t,"/")}var o=r.dirname(i),u=(Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t})(e.modules);for(var a=0;a<u.length;a++){var f=u[a];if(f.slice(0,o.length+1)===o+"/"){var l=f.slice(o.length);e.modules[n+l]=e.modules[o+l]}else f===o&&(e.modules[n]=e.modules[o])}},function(){var t={},n=typeof window!="undefined"?window:{},r=!1;e.define=function(i,s){!r&&e.modules.__browserify_process&&(t=e.modules.__browserify_process(),r=!0);var o=e._core[i]?"":e.modules.path().dirname(i),u=function(t){var n=e(t,o),r=e.cache[e.resolve(t,o)];return r&&r.parent===null&&(r.parent=a),n};u.resolve=function(t){return e.resolve(t,o)},u.modules=e.modules,u.define=e.define,u.cache=e.cache;var a={id:i,filename:i,exports:{},loaded:!1,parent:null};e.modules[i]=function(){return e.cache[i]=a,s.call(a.exports,u,a,a.exports,o,i,t,n),a.loaded=!0,a.exports}}}(),e.define("path",function(e,t,n,r,i,s,o){function u(e,t){var n=[];for(var r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}function a(e,t){var n=0;for(var r=e.length;r>=0;r--){var i=e[r];i=="."?e.splice(r,1):i===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var f=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){var e="",t=!1;for(var n=arguments.length;n>=-1&&!t;n--){var r=n>=0?arguments[n]:s.cwd();if(typeof r!="string"||!r)continue;e=r+"/"+e,t=r.charAt(0)==="/"}return e=a(u(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},n.normalize=function(e){var t=e.charAt(0)==="/",n=e.slice(-1)==="/";return e=a(u(e.split("/"),function(e){return!!e}),!t).join("/"),!e&&!t&&(e="."),e&&n&&(e+="/"),(t?"/":"")+e},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(u(e,function(e,t){return e&&typeof e=="string"}).join("/"))},n.dirname=function(e){var t=f.exec(e)[1]||"",n=!1;return t?t.length===1||n&&t.length<=3&&t.charAt(1)===":"?t:t.substring(0,t.length-1):"."},n.basename=function(e,t){var n=f.exec(e)[2]||"";return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return f.exec(e)[3]||""}}),e.define("__browserify_process",function(e,t,n,r,i,s,o){var s=t.exports={};s.nextTick=function(){var e=typeof window!="undefined"&&window.setImmediate,t=typeof window!="undefined"&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){if(e.source===window&&e.data==="browserify-tick"){e.stopPropagation();if(n.length>0){var t=n.shift();t()}}},!0),function(t){n.push(t),window.postMessage("browserify-tick","*")}}return function(t){setTimeout(t,0)}}(),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.binding=function(t){if(t==="evals")return e("vm");throw new Error("No such module. (Possibly not yet loaded)")},function(){var t="/",n;s.cwd=function(){return t},s.chdir=function(r){n||(n=e("path")),t=n.resolve(r,t)}}()}),e.define("/lib/extended.js",function(e,t,n,r,i,s,o){t.exports=e("extended")().register(e("is-extended")).register(e("array-extended")).register(e("date-extended")).register(e("object-extended")).register(e("string-extended")).register(e("promise-extended")).register(e("function-extended")).register("declare",e("declare.js")).register("bus",new(e("events").EventEmitter))}),e.define("/node_modules/extended/package.json",function(e,t,n,r,i,s,o){t.exports={main:"index.js"}}),e.define("/node_modules/extended/index.js",function(e,t,n,r,i,s,o){(function(){"use strict";function r(e,t){function r(){var t={},n=e.define();return n.expose({register:function(t,r){r||(r=t,t=null);var i=typeof r;if(t)n[t]=r;else if(r&&i==="function")n.extend(r);else{if(i!=="object")throw new TypeError("extended.register must be called with an extender function");n.expose(r)}return n},define:function(){return e.define.apply(e,arguments)}}),n}function i(){return r()}var n=function(){function t(e,t){var n,r;for(n in t)if(t.hasOwnProperty(n)){r=t[n];if(!(n in e)||e[n]!==r)e[n]=r}return e}return function(n){n||(n={});for(var r=1,i=arguments.length;r<i;r++)t(n,arguments[r]);return n}}();return i.define=function(){return e.define.apply(e,arguments)},i}"undefined"!=typeof n?"undefined"!=typeof t&&t.exports&&(t.exports=r(e("extender"),e)):"function"==typeof define?define(["require"],function(e){return r(e("extender"),e)}):this.extended=r(this.extender)}).call(this)}),e.define("/node_modules/extended/node_modules/extender/package.json",function(e,t,n,r,i,s,o){t.exports={main:"index.js"}}),e.define("/node_modules/extended/node_modules/extender/index.js",function(e,t,n,r,i,s,o){t.exports=e("./extender.js")}),e.define("/node_modules/extended/node_modules/extender/extender.js",function(e,t,n,r,i,s,o){(function(){function r(e){function r(e,t){if(e&&e.length)for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function i(e){return Object.prototype.toString.call(e)==="[object Array]"}function o(r){function u(e,r,i){if("function"!=typeof i)throw new TypeError("when extending type you must provide a function");var s;r==="constructor"?s=function(){this._super(arguments),i.apply(this,arguments)}:s=function(){var r=t.call(arguments);r.unshift(this._value);var s=i.apply(this,r);return s!==n?this.__extender__(s):this},e[r]=s}function a(e,n,r){if("function"!=typeof r)throw new TypeError("when extending type you must provide a function");var i;n==="constructor"?i=function(){this._super(arguments),r.apply(this,arguments)}:i=function(){var n=t.call(arguments);return n.unshift(this._value),r.apply(this,n)},e[n]=i}function f(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(r!=="getters"&&r!=="setters"?r==="noWrap"?f(e,t[r],!0):n?a(e,r,t[r]):u(e,r,t[r]):e[r]=t[r])}function l(e){var t=e,n,r;if(!(e instanceof i)){var s=i;for(n=0,r=o.length;n<r;n++){var u=o[n];u[0](e)&&(s=s.extend({instance:u[1]}))}t=new s(e),t.__extender__=l}return t}function c(){return!0}function h(e,t){if(arguments.length){typeof e=="object"&&(t=e,e=c),t=t||{};var n={};f(n,t),n.hasOwnProperty("constructor")||(t.hasOwnProperty("constructor")?u(n,"constructor",t.constructor):n.constructor=function(){this._super(arguments)}),o.push([e,n])}return l}function p(e){return e&&e.hasOwnProperty("__defined__")&&(l.__defined__=o=o.concat(e.__defined__)),s(l,e,["define","extend","expose","__defined__"]),l}r=r||[];var i=e({instance:{constructor:function(e){this._value=e},value:function(){return this._value},eq:function(t){return this.__extender__(this._value===t)},neq:function(t){return this.__extender__(this._value!==t)},print:function(){return console.log(this._value),this}}}),o=[];return l.define=h,l.extend=p,l.expose=function(){var t;for(var n=0,r=arguments.length;n<r;n++)t=arguments[n],typeof t=="object"&&s(l,t,["define","extend","expose","__defined__"]);return l},l.__defined__=o,l}var t=Array.prototype.slice,n,s=function(){function t(e,t,n){var i,s;for(i in t)if(t.hasOwnProperty(i)&&r(n,i)===-1){s=t[i];if(!(i in e)||e[i]!==s)e[i]=s}return e}return function(n){n||(n={});var r=arguments.length,s=arguments[arguments.length-1];i(s)?r--:s=[];for(var o=1;o<r;o++)t(n,arguments[o],s);return n}}();return{define:function(){return o().define.apply(o,arguments)},extend:function(e){return o().define().extend(e)}}}"undefined"!=typeof n?"undefined"!=typeof t&&t.exports&&(t.exports=r(e("declare.js"))):"function"==typeof define?define(["require"],function(e){return r(e("declare.js"))}):this.extender=r(this.declare)}).call(this)}),e.define("/node_modules/declare.js/package.json",function(e,t,n,r,i,s,o){t.exports={main:"index.js"}}),e.define("/node_modules/declare.js/index.js",function(e,t,n,r,i,s,o){t.exports=e("./declare.js")}),e.define("/node_modules/declare.js/declare.js",function(e,t,n,r,i,s,o){(function(){function e(){function i(t,n){return n=n||0,e.call(t,n)}function s(e){return Object.prototype.toString.call(e)==="[object Array]"}function o(e){var t;return e!==null&&e!==t&&typeof e=="object"}function u(e){var t=o(e);return t&&e.constructor===Object}function f(e,t){if(e&&e.length)for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function l(e,t,n){var r,i;for(r in t)if(t.hasOwnProperty(r)&&f(n,r)===-1){i=t[r];if(!(r in e)||e[r]!==i)e[r]=i}return e}function c(e,t){var n=this.__meta,r=n.supers,i=r.length,o=n.superMeta,u=o.pos;if(i>u){e=e?!a(e)&&!s(e)?[e]:e:[];var f=o.name,l=o.f,c;do{c=r[u][f];if("function"==typeof c&&(c=c._f||c)!==l)return o.pos=1+u,c.apply(this,e)}while(i>++u)}return null}function h(){var e=this.__meta,t=e.supers,n=t.length,r=e.superMeta,i=r.pos;if(n>i){var s=r.name,o=r.f,u;do{u=t[i][s];if("function"==typeof u&&(u=u._f||u)!==o)return r.pos=1+i,u.bind(this)}while(n>++i)}return null}function p(e){var t=this.__getters__;return t.hasOwnProperty(e)?t[e].apply(this):this[e]}function d(e,t){var n=this.__setters__;if(!u(e))return n.hasOwnProperty(e)?n[e].apply(this,i(arguments,1)):this[e]=t;for(var r in e){var s=e[r];n.hasOwnProperty(r)?n[e].call(this,s):this[r]=s}}function v(){var e=this.__meta||{},t=e.supers,n=t.length,r=e.superMeta,i=r.pos;if(n>i){var s=r.name,o=r.f,u;do{u=t[i][s];if("function"==typeof u&&(u=u._f||u)!==o)return r.pos=1+i,u.apply(this,arguments)}while(n>++i)}return null}function m(e,t){var n=function(){var r,i=this.__meta||{},s=i.superMeta;return i.superMeta={f:e,pos:0,name:t},r=e.apply(this,arguments),i.superMeta=s,r};return n._f=e,n}function g(e,t){var n=t.setters||{},r=e.__setters__,i=e.__getters__;for(var s in n)r.hasOwnProperty(s)||(r[s]=n[s]);n=t.getters||{};for(s in n)i.hasOwnProperty(s)||(i[s]=n[s]);for(var o in t)if(o!=="getters"&&o!=="setters"){var u=t[o];"function"==typeof u?e.hasOwnProperty(o)||(e[o]=m(v,o)):e[o]=u}}function y(){var e=i(arguments),t=e.length,n=this.prototype,r=n.__meta,s=this.__meta,o=n.__meta.bases,u=o.slice(),a=s.supers||[],f=r.supers||[];for(var l=0;l<t;l++){var c=e[l],h=c.prototype,p=h.__meta,d=c.__meta;!p&&(p=h.__meta={proto:h||{}}),!d&&(d=c.__meta={proto:c.__proto__||{}}),g(n,p.proto||{}),g(this,d.proto||{}),b(c.prototype,f,o),b(c,a,u)}return this}function b(e,n,r){var i=e.__meta;!i&&(i=e.__meta={});var s=e.__meta.unique;!s&&(i.unique="declare"+ ++t);if(f(r,s)===-1){r.push(s);var o=e.__meta.supers||[],u=o.length-1||0;while(u>=0)b(o[u--],n,r);n.unshift(e)}}function w(e,t){var n=t.setters,r=e.__setters__,i=e.__getters__;if(n)for(var s in n)r[s]=n[s];n=t.getters||{};if(n)for(s in n)i[s]=n[s];for(s in t)if(s!="getters"&&s!="setters"){var o=t[s];if("function"==typeof o){var u=o.__meta||{};u.isConstructor?e[s]=o:e[s]=m(o,s)}else e[s]=o}}function E(e,t){return e&&t?e[t]=this:e.exports=e=this,this}function S(e){return N(this,e)}function x(e){r.prototype=e.prototype;var t=new r;return r.prototype=null,t}function T(e,r,i){var o={},a=[],f="declare"+ ++t,p=[],d=[],g=[],E=[],S={supers:g,unique:f,bases:p,superMeta:{f:null,pos:0,name:null}},T={supers:E,unique:f,bases:d,isConstructor:!0,superMeta:{f:null,pos:0,name:null}};u(r)&&!i&&(i=r,r=n),"function"==typeof r||s(r)?(a=s(r)?r:[r],r=a.shift(),e.__meta=T,o=x(r),o.__meta=S,o.__getters__=l({},o.__getters__||{}),o.__setters__=l({},o.__setters__||{}),e.__getters__=l({},e.__getters__||{}),e.__setters__=l({},e.__setters__||{}),b(r.prototype,g,p),b(r,E,d)):(e.__meta=T,o.__meta=S,o.__getters__=o.__getters__||{},o.__setters__=o.__setters__||{},e.__getters__=e.__getters__||{},e.__setters__=e.__setters__||{}),e.prototype=o;if(i){var N=S.proto=i.instance||{},C=T.proto=i.static||{};C.init=C.init||v,w(o,N),w(e,C),N.hasOwnProperty("constructor")?o.constructor=m(N.constructor,"constructor"):o.constructor=N.constructor=m(v,"constructor")}else S.proto={},T.proto={},e.init=m(v,"init"),o.constructor=m(v,"constructor");a.length&&y.apply(e,a),r&&l(e,l(l({},r),e)),o._super=e._super=c,o._getSuper=e._getSuper=h,o._static=e}function N(e,t){function n(){this.constructor.apply(this,arguments)}return T(n,e,t),n.init()||n}function C(e,t){function r(){return n||(this.constructor.apply(this,arguments),n=this),n}var n;return T(r,e,t),r.init()||r}var e=Array.prototype.slice,t=0,n,r=new Function,a=function(t){return Object.prototype.toString.call(t)==="[object Arguments]"};return a(arguments)||(a=function(t){return!!t&&!!t.hasOwnProperty("callee")}),n=N({instance:{get:p,set:d},"static":{get:p,set:d,mixin:y,extend:S,as:E}}),N.singleton=C,N}"undefined"!=typeof n?"undefined"!=typeof t&&t.exports&&(t.exports=e()):"function"==typeof define?define(e):this.declare=e()})()}),e.define("/node_modules/is-extended/package.json",function(e,t,n,r,i,s,o){t.exports={main:"index.js"}}),e.define("/node_modules/is-extended/index.js",function(e,t,n,r,i,s,o){(function(){"use strict";function r(e){function i(e,t){return t=t||0,n.call(e,t)}function s(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function o(e,t){if(e===t)return!0;if(typeof Buffer!="undefined"&&Buffer.isBuffer(e)&&Buffer.isBuffer(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:S(e)&&S(t)&&e!==t?!1:typeof e!="object"&&typeof t!="object"?e===t:u(e,t)}function u(e,t){var r;if(v(e)||v(t))return!1;if(e.prototype!==t.prototype)return!1;if(g(e))return g(t)?(e=n.call(e),t=n.call(t),o(e,t)):!1;try{var i=s(e),u=s(t),a;if(i.length!==u.length)return!1;i.sort(),u.sort();for(a=i.length-1;a>=0;a--)if(i[a]!==u[a])return!1;for(a=i.length-1;a>=0;a--){r=i[a];if(!o(e[r],t[r]))return!1}}catch(f){return!1}return!0}function a(e){return typeof e=="function"}function f(e){var t;return e!==null&&e!==t&&typeof e=="object"}function l(e){var t=f(e);return t&&e.constructor===Object}function c(e){if(f(e)){for(var t in e)if(e.hasOwnProperty(t))return!1}else if(S(e)&&e==="")return!0;return!0}function h(e){return Object.prototype.toString.call(e)==="[object Boolean]"}function p(e){return e!==null&&e===t}function d(e){return!p(e)}function v(e){return p(e)||m(e)}function m(e){return e!==t&&e===null}function y(e,t){return a(t)?e instanceof t:!1}function b(e){return!v(e)&&e instanceof RegExp}function w(e){return Object.prototype.toString.call(e)==="[object Array]"}function E(e){return!v(e)&&typeof e=="object"&&e instanceof Date}function S(e){return!v(e)&&(typeof e=="string"||e instanceof String)}function x(e){return!v(e)&&(typeof e=="number"||e instanceof Number)}function T(e){return e===!0}function N(e){return e===!1}function C(e){return!m(e)}function k(e,t){return e==t}function L(e,t){return e!=t}function A(e,t){return e===t}function O(e,t){return e!==t}function M(e,t){if(w(t))for(var n=0,r=t.length;n<r;n++)if(k(e,t[n]))return!0;return!1}function _(e,t){return!M(e,t)}function D(e,t){return e<t}function P(e,t){return e<=t}function H(e,t){return e>t}function B(e,t){return e>=t}function j(e,t){return S(t)&&(t=new RegExp(t)),b(t)?t.test(""+e):!1}function F(e,t){return!j(e,t)}function I(e,t){return M(t,e)}function q(e,t){return!M(t,e)}function R(e,t,n){return w(e)&&e.length>n?k(e[n],t):!1}function U(e,t,n){return w(e)?!k(e[n],t):!1}function z(e,t){return r.call(e,t)}function W(e,t){return!z(e,t)}function X(e,t){return z(e,"length")?e.length===t:!1}function V(e,t){return z(e,"length")?e.length!==t:!1}function Q(e){J[e]=function(){this._testers.push($[e])}}function G(e){K[e]=function(){var n=i(arguments,1),r=$[e],s,o=!0;if(n.length<=r.length-1)throw new TypeError("A handler must be defined when calling using switch");s=n.pop(),h(s)&&(o=s,s=n.pop());if(!a(s))throw new TypeError("handler must be defined");this._cases.push(function(e){return r.apply($,e.concat(n))?[o,s.apply(this,e)]:[!1]})}}var t,n=Array.prototype.slice,r=Object.prototype.hasOwnProperty,g=function(t){return!v(t)&&Object.prototype.toString.call(t)==="[object Arguments]"};g(arguments)||(g=function(t){return!!t&&!!t.hasOwnProperty("callee")});var $={isFunction:a,isObject:f,isEmpty:c,isHash:l,isNumber:x,isString:S,isDate:E,isArray:w,isBoolean:h,isUndefined:p,isDefined:d,isUndefinedOrNull:v,isNull:m,isArguments:g,instanceOf:y,isRegExp:b,deepEqual:o,isTrue:T,isFalse:N,isNotNull:C,isEq:k,isNeq:L,isSeq:A,isSneq:O,isIn:M,isNotIn:_,isLt:D,isLte:P,isGt:H,isGte:B,isLike:j,isNotLike:F,contains:I,notContains:q,has:z,notHas:W,isLength:X,isNotLength:V,containsAt:R,notContainsAt:U},J={constructor:function(){this._testers=[]},noWrap:{tester:function(){var e=this._testers;return function(n){var r=!1;for(var i=0,s=e.length;i<s&&!r;i++)r=e[i](n);return r}}}},K={constructor:function(){this._cases=[],this.__default=null},def:function(e,t){this.__default=t},noWrap:{switcher:function(){var e=this._cases,t=this.__default;return function(){var r=!1,s=i(arguments),o;for(var u=0,a=e.length;u<a&&!r;u++){o=e[u](s);if(o.length>1)if(o[1]||o[0])return o[1]}if(!r&&t)return t.apply(this,s)}}}};for(var Y in $)$.hasOwnProperty(Y)&&(G(Y),Q(Y));var Z=e.define($).expose($);return Z.tester=e.define(J),Z.switcher=e.define(K),Z}"undefined"!=typeof n?"undefined"!=typeof t&&t.exports&&(t.exports=r(e("extended"))):"function"==typeof define?define(["require"],function(e){return r(e("extended"))}):this.isExtended=r(this.extended)}).call(this)}),e.define("/node_modules/array-extended/package.json",function(e,t,n,r,i,s,o){t.exports={main:"index.js"}}),e.define("/node_modules/array-extended/index.js",function(e,t,n,r,i,s,o){(function(){"use strict";function i(e,t){return t=t||0,r.call(e,t)}function s(e,t){function b(e,t){return M(t,function(t,n){return r(n)||(n=[n]),n.unshift(e),t.unshift(n),t},[])}function w(e,t,n){var r=[];for(var i=0;i<t.length;i++)r.push([e].concat(R(t,i)).slice(0,n));return r}function E(e,t){var n=[],r;if(e&&t&&e.length&&t.length)for(var i=0,s=e.length;i<s;i++)r=e[i],x(t,r)!==-1&&n.push(r);return n}function x(e,t,n){if(e&&c&&c===e.indexOf)return e.indexOf(t,n);if(!r(e))throw new TypeError;var i=Object(e),s=i.length>>>0;if(s===0)return-1;var f=0;arguments.length>2&&(f=Number(arguments[2]),f!==f?f=0:f!==0&&f!==Infinity&&f!==-Infinity&&(f=(f>0||-1)*o(u(f))));if(f>=s)return-1;var l=f>=0?f:a(s-u(f),0);for(;l<s;l++)if(l in i&&i[l]===t)return l;return-1}function T(e,t,n){if(!r(e))throw new TypeError;var i=Object(e),s=i.length>>>0;if(s===0)return-1;var a=s;arguments.length>2&&(a=Number(arguments[2]),a!==a?a=0:a!==0&&a!==1/0&&a!==-1/0&&(a=(a>0||-1)*o(u(a))));var l=a>=0?f(a,s-1):s-u(a);for(;l>=0;l--)if(l in i&&i[l]===t)return l;return-1}function N(e,t,n){if(e&&m&&m===e.filter)return e.filter(t,n);if(!r(e)||typeof t!="function")throw new TypeError;var i=Object(e),s=i.length>>>0,o=[];for(var u=0;u<s;u++)if(u in i){var a=i[u];t.call(n,a,u,i)&&o.push(a)}return o}function C(e,t,n){if(!r(e)||typeof t!="function")throw new TypeError;if(e&&h&&h===e.forEach)return e.forEach(t,n),e;for(var i=0,s=e.length;i<s;++i)t.call(n||e,e[i],i,e);return e}function k(e,t,n){if(e&&g&&g===e.every)return e.every(t,n);if(!r(e)||typeof t!="function")throw new TypeError;var i=Object(e),s=i.length>>>0;for(var o=0;o<s;o++)if(o in i&&!t.call(n,i[o],o,i))return!1;return!0}function L(e,t,n){if(e&&y&&y===e.some)return e.some(t,n);if(!r(e)||typeof t!="function")throw new TypeError;var i=Object(e),s=i.length>>>0;for(var o=0;o<s;o++)if(o in i&&t.call(n,i[o],o,i))return!0;return!1}function A(e,t,n){if(e&&p&&p===e.map)return e.map(t,n);if(!r(e)||typeof t!="function")throw new TypeError;var i=Object(e),s=i.length>>>0,o=[];for(var u=0;u<s;u++)u in i&&o.push(t.call(n,i[u],u,i));return o}function O(e,t,n){var i=arguments.length>2;if(e&&d&&d===e.reduce)return i?e.reduce(t,n):e.reduce(t);if(!r(e)||typeof t!="function")throw new TypeError;var s=0,o=e.length>>0;if(arguments.length<3){if(o===0)throw new TypeError("Array length is 0 and no second argument");n=e[0],s=1}else n=arguments[2];while(s<o)s in e&&(n=t.call(undefined,n,e[s],s,e)),++s;return n}function M(e,t,n){var i=arguments.length>2;if(e&&v&&v===e.reduceRight)return i?e.reduceRight(t,n):e.reduceRight(t);if(!r(e)||typeof t!="function")throw new TypeError;var s=Object(e),o=s.length>>>0;if(o===0&&arguments.length===2)throw new TypeError;var u=o-1;if(arguments.length>=3)n=arguments[2];else do if(u in e){n=e[u--];break}while(!0);while(u>=0)u in s&&(n=t.call(undefined,n,s[u],u,s)),u--;return n}function _(e){var n=[];if(e!==null){var s=i(arguments);if(s.length===1)if(r(e))n=e;else if(t.isHash(e))for(var o in e)e.hasOwnProperty(o)&&n.push([o,e[o]]);else n.push(e);else C(s,function(e){n=n.concat(_(e))})}return n}function D(e){return e=e||[],e.length?O(e,function(e,t){return e+t}):0}function P(e){e=e||[];if(e.length){var n=D(e);if(t.isNumber(n))return n/e.length;throw new Error("Cannot average an array of non numbers.")}return 0}function H(e,t){return S(e,t)}function B(e,t){return S(e,t)[0]}function j(e,t){return S(e,t)[e.length-1]}function F(e){var t=e,n=Y(i(arguments,1));return r(e)&&(t=N(e,function(e){return x(n,e)===-1})),t}function I(e){var t=[];if(r(e))for(var n=0,i=e.length;n<i;n++){var s=e[n];x(t,s)===-1&&t.push(s)}return t}function q(e){return I(e)}function R(e,t){var n=e.slice();return typeof t!="number"&&(t=1),t&&r(e)?(t>0?(n.push(n.shift()),t--):(n.unshift(n.pop()),t++),R(n,t)):n}function U(e,t){var n=[];if(r(e)){var i=e.slice(0);typeof t!="number"&&(t=e.length),t?t<=e.length&&(n=O(e,function(e,n,r){var s;return t>1?s=w(n,R(i,r).slice(1),t):s=[[n]],e.concat(s)},[])):n=[[]]}return n}function z(){var e=[],n=i(arguments);if(n.length>1){var s=n.shift();r(s)&&(e=O(s,function(e,i,s){var o=[i];for(var u=0;u<n.length;u++){var a=n[u];r(a)&&!t.isUndefined(a[s])?o.push(a[s]):o.push(null)}return e.push(o),e},[]))}return e}function W(e){var t=[];if(r(e)&&e.length){var n;C(e,function(e){r(e)&&(!n||e.length===n.length)&&(C(e,function(e,n){t[n]||(t[n]=[]),t[n].push(e)}),n=e)})}return t}function X(e,t){var n=[];t=i(arguments),e=t.shift();if(r(e)&&t.length)for(var s=0,o=t.length;s<o;s++)n.push(e[t[s]]||null);return n}function V(){var e=[],t=i(arguments);if(t.length>1){for(var n=0,r=t.length;n<r;n++)e=e.concat(t[n]);e=I(e)}return e}function $(){var e=[],t,n=i(arguments);n.length>1?t=n:t=n[0];if(r(t)){var e=t.shift();for(var s=0,o=t.length;s<o;s++)e=E(e,t[s])}return I(e)}function J(e){var t=[];return r(e)&&e.length&&(t=O(e,function(e,t){var n=A(e,function(e){return e.concat(t)});return e.concat(n)},[[]])),t}function K(e,t){var n=[];return r(e)&&r(t)&&e.length&&t.length&&(n=b(e[0],t).concat(K(e.slice(1),t))),n}function Q(e){var n=[];return r(e)&&e.length&&(n=N(e,function(e){return!t.isUndefinedOrNull(e)})),n}function G(e,n){n=t.isNumber(n)?n:1,n||(n=1),e=_(e||[]);var r=[],i=0;while(++i<=n)r=r.concat(e);return r}function Y(e){var t,n=i(arguments);return n.length>1?t=n:t=_(e),O(t,function(e,t){return e.concat(t)},[])}function Z(e,t){t=t.split(".");var n=e.slice(0);return C(t,function(e){var t=e.match(/(\w+)\(\)$/);n=A(n,function(n){return t?n[t[1]]():n[e]})}),n}function et(e,t,r){return r=i(arguments,2),A(e,function(e){var i=n(t)?e[t]:t;return i.apply(e,r)})}var n=t.isString,r=Array.isArray||t.isArray,s=t.isDate,o=Math.floor,u=Math.abs,a=Math.max,f=Math.min,l=Array.prototype,c=l.indexOf,h=l.forEach,p=l.map,d=l.reduce,v=l.reduceRight,m=l.filter,g=l.every,y=l.some,S=function(){var e=function(e,t){return k(e,t)},t=function(e,t){return e-t},i=function(e,t){return e.getTime()-t.getTime()};return function(u,a){var f=[];return r(u)&&(f=u.slice(),a?typeof a=="function"?f.sort(a):f.sort(function(e,t){var r=e[a],i=t[a];return n(r)&&n(i)?r>i?1:r<i?-1:0:s(r)&&s(i)?r.getTime()-i.getTime():r-i}):e(f,n)?f.sort():e(f,s)?f.sort(i):f.sort(t)),f}}(),tt={toArray:_,sum:D,avg:P,sort:H,min:B,max:j,difference:F,removeDuplicates:I,unique:q,rotate:R,permutations:U,zip:z,transpose:W,valuesAt:X,union:V,intersect:$,powerSet:J,cartesian:K,compact:Q,multiply:G,flatten:Y,pluck:Z,invoke:et,forEach:C,map:A,filter:N,reduce:O,reduceRight:M,some:L,every:k,indexOf:x,lastIndexOf:T};return e.define(r,tt).expose(tt)}var r=Array.prototype.slice;"undefined"!=typeof n?"undefined"!=typeof t&&t.exports&&(t.exports=s(e("extended"),e("is-extended"))):"function"==typeof define?define(["require"],function(e){return s(e("extended"),e("is-extended"))}):this.arrayExtended=s(this.extended,this.isExtended)}).call(this)}),e.define("/node_modules/date-extended/package.json",function(e,t,n,r,i,s,o){t.exports={main:"index.js"}}),e.define("/node_modules/date-extended/index.js",function(e,t,n,r,i,s,o){(function(){"use strict";function r(e,t,n){function r(e,t,n,r){e=""+e,n=n||" ";var i=e.length;while(i<t)r?e+=n:e=n+e,i++;return e}function i(e,n,r){var s=e;if(t.isString(s)){if(e.length>n)if(r){var o=e.length;s=e.substring(o-n,o)}else s=e.substring(0,n)}else s=i(""+s,n);return s}function s(e,n,r){if(!t.isArray(e)||typeof n!="function")throw new TypeError;var i=Object(e),s=i.length>>>0;for(var o=0;o<s;o++)if(o in i&&!n.call(r,i[o],o,i))return!1;return!0}function E(e,t){return N.difference(new Date(e.getFullYear(),0,1,e.getHours()),e,null,t)+1}function S(e,t,n){t=t||0;var r=e[n?"getUTCFullYear":"getFullYear"](),i=(new Date(r,0,1)).getDay(),s=(i-t+7)%7,o=f((E(e)+s-1)/7);return i===t&&o++,o}function x(e){var t=e.toString(),n="",r=t.indexOf("(");return r>-1&&(n=t.substring(++r,t.indexOf(")"))),n}function T(e,t){return e.replace(/([a-z])\1*/ig,function(e){var n,r=e.charAt(0),i=e.length,s="0?",o="0{0,2}";if(r==="y")n="\\d{2,4}";else if(r==="M")n=i>2?"\\S+?":"1[0-2]|"+s+"[1-9]";else if(r==="D")n="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+o+"[1-9][0-9]|"+s+"[1-9]";else if(r==="d")n="3[01]|[12]\\d|"+s+"[1-9]";else if(r==="w")n="[1-4][0-9]|5[0-3]|"+s+"[1-9]";else if(r==="E")n="\\S+";else if(r==="h")n="1[0-2]|"+s+"[1-9]";else if(r==="K")n="1[01]|"+s+"\\d";else if(r==="H")n="1\\d|2[0-3]|"+s+"\\d";else if(r==="k")n="1\\d|2[0-4]|"+s+"[1-9]";else if(r==="m"||r==="s")n="[0-5]\\d";else if(r==="S")n="\\d{"+i+"}";else if(r==="a"){var u="AM",a="PM";n=u+"|"+a,u!==u.toLowerCase()&&(n+="|"+u.toLowerCase()),a!==a.toLowerCase()&&(n+="|"+a.toLowerCase()),n=n.replace(/\./g,"\\.")}else r==="v"||r==="z"||r==="Z"||r==="G"||r==="q"||r==="Q"?n=".*":n=r===" "?"\\s*":r+"*";return t&&t.push(e),"("+n+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}function k(e){C[e+"sFromNow"]=function(t){return N.add(new Date,e,t)},C[e+"sAgo"]=function(t){return N.add(new Date,e,-t)}}var o=function(){function r(e,t,r){return e=e.replace(/s$/,""),n.hasOwnProperty(e)?n[e](t,r):[r,"UTC"+e.charAt(0).toUpperCase()+e.substring(1)+"s",!1]}function s(e,n,r,s){return e=e.replace(/s$/,""),t(i[e](n,r,s))}var e=Math.floor,t=Math.round,n={day:function(t,n){return[n,"Date",!1]},weekday:function(t,n){var r,i,s=n%5,o=t.getDay(),u=0;s?(r=s,i=parseInt(n/5,10)):(r=n>0?5:-5,i=n>0?(n-5)/5:(n+5)/5),o===6&&n>0?u=1:o===0&&n<0&&(u=-1);var a=o+r;if(a===0||a===6)u=n>0?2:-2;return[7*i+r+u,"Date",!1]},year:function(t,n){return[n,"FullYear",!0]},week:function(t,n){return[n*7,"Date",!1]},quarter:function(t,n){return[n*3,"Month",!0]},month:function(t,n){return[n,"Month",!0]}},i={quarter:function(n,r,i){var s=r.getFullYear()-n.getFullYear(),o=n[i?"getUTCMonth":"getMonth"](),u=r[i?"getUTCMonth":"getMonth"](),a=e(o/3)+1,f=e(u/3)+1;return f+=s*4,f-a},weekday:function(t,n,r){var i=s("day",t,n,r),o,u=i%7;if(u===0)i=s("week",t,n,r)*5;else{var a=0,f=t[r?"getUTCDay":"getDay"](),l=n[r?"getUTCDay":"getDay"]();o=parseInt(i/7,10);var c=new Date(+t);c.setDate(c[r?"getUTCDate":"getDate"]()+o*7);var h=c[r?"getUTCDay":"getDay"]();if(i>0){if(f===6||l===6)a=-1;else if(f===0)a=0;else if(l===0||h+u>5)a=-2}else if(i<0)if(f===6)a=0;else if(f===0||l===0)a=1;else if(l===6||h+u<0)a=2;i+=a,i-=o*2}return i},year:function(e,t){return t.getFullYear()-e.getFullYear()},month:function(e,t,n){var r=e[n?"getUTCMonth":"getMonth"](),i=t[n?"getUTCMonth":"getMonth"]();return i-r+(t.getFullYear()-e.getFullYear())*12},week:function(e,n,r){return t(s("day",e,n,r)/7)},day:function(e,t){return 1.1574074074074074e-8*(t.getTime()-e.getTime())},hour:function(e,t){return 2.7777777777777776e-7*(t.getTime()-e.getTime())},minute:function(e,t){return 16666666666666667e-21*(t.getTime()-e.getTime())},second:function(e,t){return.001*(t.getTime()-e.getTime())},millisecond:function(e,t){return t.getTime()-e.getTime()}};return{addTransform:r,differenceTransform:s}}(),u=o.addTransform,a=o.differenceTransform,f=Math.floor,l=Math.round,c=Math.min,h=Math.pow,p=Math.ceil,d=Math.abs,v=["January","February","March","April","May","June","July","August","September","October","November","December"],m=["Jan.","Feb.","Mar.","Apr.","May.","Jun.","Jul.","Aug.","Sep.","Oct.","Nov.","Dec."],g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],b=["Before Christ","Anno Domini"],w=["BC","AD"],N={getDaysInMonth:function(e){var t=e.getMonth(),n=[31,28,31,30,31,30,31,31,30,31,30,31];return t===1&&N.isLeapYear(e)?29:n[t]},isLeapYear:function(e,t){var n=e[t?"getUTCFullYear":"getFullYear"]();return n%400===0||n%4===0&&n%100!==0},isWeekend:function(e,t){var n=(e||new Date)[t?"getUTCDay":"getDay"]();return n===0||n===6},getTimezoneName:x,compare:function(e,t,n){return e=new Date(+e),t=new Date(+(t||new Date)),n==="date"?(e.setHours(0,0,0,0),t.setHours(0,0,0,0)):n==="time"&&(e.setFullYear(0,0,0),t.setFullYear(0,0,0)),e>t?1:e<t?-1:0},add:function(e,t,n){var r=u(t,e,n||0);n=r[0];var i=r[1],s=new Date(+e),o=r[2];return i&&s["set"+i](s["get"+i]()+n),o&&s.getDate()<e.getDate()&&s.setDate(0),s},difference:function(e,t,n,r){return t=t||new Date,n=n||"day",a(n,e,t,r)},format:function(e,t,n){n=n||!1;var s,o,u,a,c,T,N,C;return n?(s=e.getUTCFullYear(),o=e.getUTCMonth(),u=e.getUTCDay(),a=e.getUTCDate(),c=e.getUTCHours(),T=e.getUTCMinutes(),N=e.getUTCSeconds(),C=e.getUTCMilliseconds()):(s=e.getFullYear(),o=e.getMonth(),a=e.getDate(),u=e.getDay(),c=e.getHours(),T=e.getMinutes(),N=e.getSeconds(),C=e.getMilliseconds()),t.replace(/([A-Za-z])\1*/g,function(t){var k,L,A=t.charAt(0),O=t.length;if(A==="d")k=""+a,L=!0;else if(A==="H"&&!k)k=""+c,L=!0;else if(A==="m"&&!k)k=""+T,L=!0;else if(A==="s")k||(k=""+N),L=!0;else if(A==="G")k=(O<4?w:b)[s<0?0:1];else if(A==="y")k=s,O>1&&(O===2?k=i(""+k,2,!0):L=!0);else if(A.toUpperCase()==="Q")k=p((o+1)/3),L=!0;else if(A==="M")O<3?(k=o+1,L=!0):k=(O===3?m:v)[o];else if(A==="w")k=S(e,0,n),L=!0;else if(A==="D")k=E(e,n),L=!0;else if(A==="E")O<3?(k=u+1,L=!0):k=(O===-3?y:g)[u];else if(A==="a")k=c<12?"AM":"PM";else if(A==="h")k=c%12||12,L=!0;else if(A==="K")k=c%12,L=!0;else if(A==="k")k=c||24,L=!0;else if(A==="S")k=l(C*h(10,O-3)),L=!0;else if(A==="z"||A==="v"||A==="Z"){k=x(e),(A==="z"||A==="v")&&!k&&(O=4);if(!k||A==="Z"){var M=e.getTimezoneOffset(),_=[M>=0?"-":"+",r(f(d(M)/60),2,"0"),r(d(M)%60,2,"0")];O===4&&(_.splice(0,0,"GMT"),_.splice(3,0,":")),k=_.join("")}}else k=t;return L&&(k=r(k,O,"0")),k})}},C={},L=["year","month","day","hour","minute","second"];for(var A=0,O=L.length;A<O;A++)k(L[A]);var M={parseDate:function(e,t){if(!t)throw new Error("format required when calling dateExtender.parse");var r=[],i=T(t,r),o=new RegExp("^"+i+"$","i"),u=o.exec(e);if(!u)return null;var a=[1970,0,1,0,0,0,0],f="",l=s(u,function(e,t){if(t){var i=r[t-1],s=i.length,o=i.charAt(0);if(o==="y")if(e<100){e=parseInt(e,10);var u=""+(new Date).getFullYear(),l=u.substring(0,2)*100,h=c(u.substring(2,4)+20,99);a[0]=e<h?l+e:l-100+e}else a[0]=e;else if(o==="M"){if(s>2){var p=v,d,b;s===3&&(p=m),e=e.replace(".","").toLowerCase();var w=!1;for(d=0,b=p.length;d<b&&!w;d++){var E=p[d].replace(".","").toLocaleLowerCase();E===e&&(e=d,w=!0)}if(!w)return!1}else e--;a[1]=e}else if(o==="E"||o==="e"){var S=g;s===3&&(S=y),e=e.toLowerCase(),S=n.map(S,function(e){return e.toLowerCase()});var x=n.indexOf(S,e);if(x===-1){e=parseInt(e,10);if(isNaN(e)||e>S.length)return!1}else e=x}else if(o==="D"||o==="d")o==="D"&&(a[1]=0),a[2]=e;else if(o==="a"){var T="am",N="pm",C=/\./g;e=e.replace(C,"").toLowerCase(),f=e===N?"p":e===T?"a":""}else o==="k"||o==="h"||o==="H"||o==="K"?(o==="k"&&+e===24&&(e=0),a[3]=e):o==="m"?a[4]=e:o==="s"?a[5]=e:o==="S"&&(a[6]=e)}return!0});if(l){var h=+a[3];f==="p"&&h<12?a[3]=h+12:f==="a"&&h===12&&(a[3]=0);var p=new Date(a[0],a[1],a[2],a[3],a[4],a[5],a[6]),d=n.indexOf(r,"d")!==-1,b=n.indexOf(r,"M")!==-1,w=a[1],E=a[2],S=p.getMonth(),x=p.getDate();return b&&S>w||d&&x>E?null:p}return null}},_=e.define(t.isDate,N).define(t.isString,M).define(t.isNumber,C);for(A in N)N.hasOwnProperty(A)&&(_[A]=N[A]);for(A in M)M.hasOwnProperty(A)&&(_[A]=M[A]);for(A in C)C.hasOwnProperty(A)&&(_[A]=C[A]);return _}"undefined"!=typeof n?"undefined"!=typeof t&&t.exports&&(t.exports=r(e("extended"),e("is-extended"),e("array-extended"))):"function"==typeof define?define(["require"],function(e){return r(e("extended"),e("is-extended"),e("array-extended"))}):this.dateExtended=r(this.extended,this.isExtended,this.arrayExtended)}).call(this)}),e.define("/node_modules/object-extended/package.json",function(e,t,n,r,i,s,o){t.exports={main:"index.js"}}),e.define("/node_modules/object-extended/index.js",function(e,t,n,r,i,s,o){(function(){"use strict";function r(e,t){function i(e,t){var n,r;for(n in t)if(t.hasOwnProperty(n)){r=t[n];if(!(n in e)||e[n]!==r)e[n]=r}return e}function s(e,t){var i,o,u;for(i in t)t.hasOwnProperty(i)&&(o=t[i],u=e[i],n(u,o)||(r(u)&&r(o)?e[i]=s(u,o):r(o)?e[i]=s({},o):e[i]=o));return e}function o(e){e||(e={});for(var t=1,n=arguments.length;t<n;t++)i(e,arguments[t]);return e}function u(e){e||(e={});for(var t=1,n=arguments.length;t<n;t++)s(e,arguments[t]);return e}function a(e,t){var n=e.prototype||e;return o(n,t),e}function f(e,t,n){if(!r(e)||typeof t!="function")throw new TypeError;var i=h(e),s;for(var o=0,u=i.length;o<u;++o)s=i[o],t.call(n||e,e[s],s,e);return e}function l(e,t,n){if(!r(e)||typeof t!="function")throw new TypeError;var i=h(e),s,o,u={};for(var a=0,f=i.length;a<f;++a)s=i[a],o=e[s],t.call(n||e,o,s,e)&&(u[s]=o);return u}function c(e){if(!r(e))throw new TypeError;var t=h(e),n=[];for(var i=0,s=t.length;i<s;++i)n.push(e[t[i]]);return n}function h(e){if(!r(e))throw new TypeError;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function p(e){if(!r(e))throw new TypeError;var t=h(e),n,i={};for(var s=0,o=t.length;s<o;++s)n=t[s],i[e[n]]=n;return i}function d(e){if(!r(e))throw new TypeError;var t=h(e),n,i=[];for(var s=0,o=t.length;s<o;++s)n=t[s],i.push([n,e[n]]);return i}var n=t.deepEqual,r=t.isHash,v={forEach:f,filter:l,invert:p,values:c,toArray:d,keys:h},m={extend:a,merge:o,deepMerge:u},g=e.define(t.isObject,m).define(r,v).define(t.isFunction,{extend:a}).expose({hash:v}).expose(m),y=g.extend;return g.extend=function(){if(arguments.length===1)return y.extend.apply(g,arguments);a.apply(null,arguments)},g}"undefined"!=typeof n?"undefined"!=typeof t&&t.exports&&(t.exports=r(e("extended"),e("is-extended"))):"function"==typeof define?define(["require"],function(e){return r(e("extended"),e("is-extended"))}):this.objectExtended=r(extended,isExtended)}).call(this)}),e.define("/node_modules/string-extended/package.json",function(e,t,n,r,i,s,o){t.exports={main:"index.js"}}),e.define("/node_modules/string-extended/index.js",function(e,t,n,r,i,s,o){(function(){"use strict";function r(e,t,n){function l(e,t){var n=e;if(a.test(t)){var r=t.match(a),i=r[1],s=r[3],o=r[4];o&&(o=parseInt(o,10),n.length<o?n=v(n,o,s,i):n=m(n,o))}return n}function c(e,n){var r;if(!t.isNumber(e))throw new Error("stringExtended.format : when using %d the parameter must be a number!");r=""+e;if(a.test(n)){var i=n.match(a),s=i[1],o=i[2],u=i[3],f=i[4];o&&(r=(e>0?"+":"")+r),f&&(f=parseInt(f,10),r.length<f?r=v(r,f,u||"0",s):r=m(r,f))}return r}function h(e,t){var n,i=t.match(f),s=0;i&&(s=parseInt(i[0],10),isNaN(s)&&(s=0));try{n=r(e,null,s)}catch(o){throw new Error("stringExtended.format : Unable to parse json from ",e)}return n}function v(e,t,n,r){e=""+e,n=n||" ";var i=e.length;while(i<t)r?e+=n:e=n+e,i++;return e}function m(e,n,r){var i=e;if(t.isString(i)){if(e.length>n)if(r){var s=e.length;i=e.substring(s-n,s)}else i=e.substring(0,n)}else i=m(""+i,n);return i}function g(e,a){if(a instanceof Array){var f=0,p=a.length;return e.replace(o,function(e,t,i){var s,o;if(f<p){s=a[f++];if(e==="%s"||e==="%d"||e==="%D")o=s+"";else if(e==="%Z")o=s.toUTCString();else if(e==="%j")try{o=r(s)}catch(u){throw new Error("stringExtended.format : Unable to parse json from ",s)}else{t=t.replace(/^\[|\]$/g,"");switch(i){case"s":o=l(s,t);break;case"d":o=c(s,t);break;case"j":o=h(s,t);break;case"D":o=n.format(s,t);break;case"Z":o=n.format(s,t,!0)}}return o}return e})}if(i(a))return e.replace(u,function(e,r,i){i=a[i];if(!t.isUndefined(i)){if(!r)return""+i;if(t.isString(i))return l(i,r);if(t.isNumber(i))return c(i,r);if(t.isDate(i))return n.format(i,r);if(t.isObject(i))return h(i,r)}return e});var d=s.call(arguments).slice(1);return g(e,d)}function y(e,t){var n=[];return e&&(e.indexOf(t)>0?n=e.replace(/\s+/g,"").split(t):n.push(e)),n}function b(e,t){var n=[];if(t)for(var r=0;r<t;r++)n.push(e);return n.join("")}function w(e,n){var r,i,s;if(n)if(t.isArray(e)){r=[];for(i=0,s=e.length;i<s;i++)r.push(w(e[i],n))}else if(n instanceof Array){r=e;for(i=0,s=n.length;i<s;i++)r=w(r,n[i])}else n in p&&(r="["+p[n]+"m"+e+"[0m");return r}var r;typeof JSON=="undefined"?function(){function e(e){return e<10?"0"+e:e}function i(r){return t.isDate(r)?isFinite(r.valueOf())?r.getUTCFullYear()+"-"+e(r.getUTCMonth()+1)+"-"+e(r.getUTCDate())+"T"+e(r.getUTCHours())+":"+e(r.getUTCMinutes())+":"+e(r.getUTCSeconds())+"Z":null:n(r)?r.valueOf():r}function c(e){return o.lastIndex=0,o.test(e)?'"'+e.replace(o,function(e){var t=f[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function h(e,t){var n,r,s,o,f=u,p,d=t[e];d&&(d=i(d)),typeof l=="function"&&(d=l.call(t,e,d));switch(typeof d){case"string":return c(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";u+=a,p=[];if(Object.prototype.toString.apply(d)==="[object Array]"){o=d.length;for(n=0;n<o;n+=1)p[n]=h(n,d)||"null";return s=p.length===0?"[]":u?"[\n"+u+p.join(",\n"+u)+"\n"+f+"]":"["+p.join(",")+"]",u=f,s}if(l&&typeof l=="object"){o=l.length;for(n=0;n<o;n+=1)typeof l[n]=="string"&&(r=l[n],s=h(r,d),s&&p.push(c(r)+(u?": ":":")+s))}else for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(s=h(r,d),s&&p.push(c(r)+(u?": ":":")+s));return s=p.length===0?"{}":u?"{\n"+u+p.join(",\n"+u)+"\n"+f+"}":"{"+p.join(",")+"}",u=f,s}}var n=t.tester().isString().isNumber().isBoolean().tester(),s=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u,a,f={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;r=function(e,t,n){var r;u="",a="";if(typeof n=="number")for(r=0;r<n;r+=1)a+=" ";else typeof n=="string"&&(a=n);l=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return h("",{"":e});throw new Error("JSON.stringify")}}():r=JSON.stringify;var i=t.isHash,s=Array.prototype.slice,o=/%((?:-?\+?.?\d*)?|(?:\[[^\[|\]]*\]))?([sjdDZ])/g,u=/\{(?:\[([^\[|\]]*)\])?(\w+)\}/g,a=/(-?)(\+?)([A-Z|a-z|\W]?)([1-9][0-9]*)?$/,f=/([1-9][0-9]*)$/g,p={bold:1,bright:1,italic:3,underline:4,blink:5,inverse:7,crossedOut:9,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,redBackground:41,greenBackground:42,yellowBackground:43,blueBackground:44,magentaBackground:45,cyanBackground:46,whiteBackground:47,encircled:52,overlined:53,grey:90,black:90},d={SMILEY:"☺",SOLID_SMILEY:"☻",HEART:"♥",DIAMOND:"♦",CLOVE:"♣",SPADE:"♠",DOT:"•",SQUARE_CIRCLE:"◘",CIRCLE:"○",FILLED_SQUARE_CIRCLE:"◙",MALE:"♂",FEMALE:"♀",EIGHT_NOTE:"♪",DOUBLE_EIGHTH_NOTE:"♫",SUN:"☼",PLAY:"►",REWIND:"◄",UP_DOWN:"↕",PILCROW:"¶",SECTION:"§",THICK_MINUS:"▬",SMALL_UP_DOWN:"↨",UP_ARROW:"↑",DOWN_ARROW:"↓",RIGHT_ARROW:"→",LEFT_ARROW:"←",RIGHT_ANGLE:"∟",LEFT_RIGHT_ARROW:"↔",TRIANGLE:"▲",DOWN_TRIANGLE:"▼",HOUSE:"⌂",C_CEDILLA:"Ç",U_UMLAUT:"ü",E_ACCENT:"é",A_LOWER_CIRCUMFLEX:"â",A_LOWER_UMLAUT:"ä",A_LOWER_GRAVE_ACCENT:"à",A_LOWER_CIRCLE_OVER:"å",C_LOWER_CIRCUMFLEX:"ç",E_LOWER_CIRCUMFLEX:"ê",E_LOWER_UMLAUT:"ë",E_LOWER_GRAVE_ACCENT:"è",I_LOWER_UMLAUT:"ï",I_LOWER_CIRCUMFLEX:"î",I_LOWER_GRAVE_ACCENT:"ì",A_UPPER_UMLAUT:"Ä",A_UPPER_CIRCLE:"Å",E_UPPER_ACCENT:"É",A_E_LOWER:"æ",A_E_UPPER:"Æ",O_LOWER_CIRCUMFLEX:"ô",O_LOWER_UMLAUT:"ö",O_LOWER_GRAVE_ACCENT:"ò",U_LOWER_CIRCUMFLEX:"û",U_LOWER_GRAVE_ACCENT:"ù",Y_LOWER_UMLAUT:"ÿ",O_UPPER_UMLAUT:"Ö",U_UPPER_UMLAUT:"Ü",CENTS:"¢",POUND:"£",YEN:"¥",CURRENCY:"¤",PTS:"₧",FUNCTION:"ƒ",A_LOWER_ACCENT:"á",I_LOWER_ACCENT:"í",O_LOWER_ACCENT:"ó",U_LOWER_ACCENT:"ú",N_LOWER_TILDE:"ñ",N_UPPER_TILDE:"Ñ",A_SUPER:"ª",O_SUPER:"º",UPSIDEDOWN_QUESTION:"¿",SIDEWAYS_L:"⌐",NEGATION:"¬",ONE_HALF:"½",ONE_FOURTH:"¼",UPSIDEDOWN_EXCLAMATION:"¡",DOUBLE_LEFT:"«",DOUBLE_RIGHT:"»",LIGHT_SHADED_BOX:"░",MEDIUM_SHADED_BOX:"▒",DARK_SHADED_BOX:"▓",VERTICAL_LINE:"│",MAZE__SINGLE_RIGHT_T:"┤",MAZE_SINGLE_RIGHT_TOP:"┐",MAZE_SINGLE_RIGHT_BOTTOM_SMALL:"┘",MAZE_SINGLE_LEFT_TOP_SMALL:"┌",MAZE_SINGLE_LEFT_BOTTOM_SMALL:"└",MAZE_SINGLE_LEFT_T:"├",MAZE_SINGLE_BOTTOM_T:"┴",MAZE_SINGLE_TOP_T:"┬",MAZE_SINGLE_CENTER:"┼",MAZE_SINGLE_HORIZONTAL_LINE:"─",MAZE_SINGLE_RIGHT_DOUBLECENTER_T:"╡",MAZE_SINGLE_RIGHT_DOUBLE_BL:"╛",MAZE_SINGLE_RIGHT_DOUBLE_T:"╢",MAZE_SINGLE_RIGHT_DOUBLEBOTTOM_TOP:"╖",MAZE_SINGLE_RIGHT_DOUBLELEFT_TOP:"╕",MAZE_SINGLE_LEFT_DOUBLE_T:"╞",MAZE_SINGLE_BOTTOM_DOUBLE_T:"╧",MAZE_SINGLE_TOP_DOUBLE_T:"╤",MAZE_SINGLE_TOP_DOUBLECENTER_T:"╥",MAZE_SINGLE_BOTTOM_DOUBLECENTER_T:"╨",MAZE_SINGLE_LEFT_DOUBLERIGHT_BOTTOM:"╘",MAZE_SINGLE_LEFT_DOUBLERIGHT_TOP:"╒",MAZE_SINGLE_LEFT_DOUBLEBOTTOM_TOP:"╓",MAZE_SINGLE_LEFT_DOUBLETOP_BOTTOM:"╙",MAZE_SINGLE_LEFT_TOP:"Γ",MAZE_SINGLE_RIGHT_BOTTOM:"╜",MAZE_SINGLE_LEFT_CENTER:"╟",MAZE_SINGLE_DOUBLECENTER_CENTER:"╫",MAZE_SINGLE_DOUBLECROSS_CENTER:"╪",MAZE_DOUBLE_LEFT_CENTER:"╣",MAZE_DOUBLE_VERTICAL:"║",MAZE_DOUBLE_RIGHT_TOP:"╗",MAZE_DOUBLE_RIGHT_BOTTOM:"╝",MAZE_DOUBLE_LEFT_BOTTOM:"╚",MAZE_DOUBLE_LEFT_TOP:"╔",MAZE_DOUBLE_BOTTOM_T:"╩",MAZE_DOUBLE_TOP_T:"╦",MAZE_DOUBLE_LEFT_T:"╠",MAZE_DOUBLE_HORIZONTAL:"═",MAZE_DOUBLE_CROSS:"╬",SOLID_RECTANGLE:"█",THICK_LEFT_VERTICAL:"▌",THICK_RIGHT_VERTICAL:"▐",SOLID_SMALL_RECTANGLE_BOTTOM:"▄",SOLID_SMALL_RECTANGLE_TOP:"▀",PHI_UPPER:"Φ",INFINITY:"∞",INTERSECTION:"∩",DEFINITION:"≡",PLUS_MINUS:"±",GT_EQ:"≥",LT_EQ:"≤",THEREFORE:"⌠",SINCE:"∵",DOESNOT_EXIST:"∄",EXISTS:"∃",FOR_ALL:"∀",EXCLUSIVE_OR:"⊕",BECAUSE:"⌡",DIVIDE:"÷",APPROX:"≈",DEGREE:"°",BOLD_DOT:"∙",DOT_SMALL:"·",CHECK:"√",ITALIC_X:"✗",SUPER_N:"ⁿ",SQUARED:"²",CUBED:"³",SOLID_BOX:"■",PERMILE:"‰",REGISTERED_TM:"®",COPYRIGHT:"©",TRADEMARK:"™",BETA:"β",GAMMA:"γ",ZETA:"ζ",ETA:"η",IOTA:"ι",KAPPA:"κ",LAMBDA:"λ",NU:"ν",XI:"ξ",OMICRON:"ο",RHO:"ρ",UPSILON:"υ",CHI_LOWER:"φ",CHI_UPPER:"χ",PSI:"ψ",ALPHA:"α",ESZETT:"ß",PI:"π",SIGMA_UPPER:"Σ",SIGMA_LOWER:"σ",MU:"µ",TAU:"τ",THETA:"Θ",OMEGA:"Ω",DELTA:"δ",PHI_LOWER:"φ",EPSILON:"ε"},E={toArray:y,pad:v,truncate:m,multiply:b,format:g,style:w},S,x=e.define(t.isString,E).define(t.isArray,{style:w});for(S in E)E.hasOwnProperty(S)&&(x[S]=E[S]);return x.characters=d,x}"undefined"!=typeof n?"undefined"!=typeof t&&t.exports&&(t.exports=r(e("extended"),e("is-extended"),e("date-extended"))):"function"==typeof define?define(["require"],function(e){return r(e("extended"),e("is-extended"),e("date-extended"))}):this.stringExtended=r(this.extended,this.isExtended,this.dateExtended)}).call(this)}),e.define("/node_modules/promise-extended/package.json",function(e,t,n,r,i,s,o){t.exports={main:"index.js"}}),e.define("/node_modules/promise-extended/index.js",function(e,t,n,r,i,s,o){(function(){"use strict";function i(e,t){return t=t||0,r.call(e,t)}function o(e,t,n,r,o){function d(e,t){return function(){try{T(e.apply(null,arguments)).addCallback(t).addErrback(t)}catch(r){t.errback(r)}}}function E(e,t,n){var r=(new b).callback();return u(e,function(e){r=r.then(n?e:p(null,e)),n||(r=r.then(function(e){return t.push(e),t}))}),r}function S(e){return!a(e)&&l(e.then)}function x(e){var t=new b;return e.then(h(t,"callback"),h(t,"errback")),t.promise()}function T(e){var t;return e=i(arguments),e.length?e.length==1?(e=e.pop(),S(e)?e.addCallback&&e.addErrback?t=e:(console.log(e),t=x(e)):f(e)&&n.every(e,S)?t=(new w(e,!0)).promise():t=(new b).callback(e)):t=(new w(n.map(e,function(e){return T(e)}),!0)).promise():t=(new b).callback(e).promise(),t}function N(e,t){return function(){var r=new b,s=i(arguments);return s.push(r.resolve),e.apply(t||this,s),r.promise()}}function C(e){if(f(e))return E(e,[],!1);throw new Error("When calling promise.serial the first argument must be an array")}function k(e){if(f(e))return E(e,[],!0);throw new Error("When calling promise.serial the first argument must be an array")}function L(e,t){e=i(arguments);var n=!1;t=e.pop();var r=T(e);return function(){return n?T(t.apply(this,arguments)):(e=arguments,r.then(h(this,function(){return n=!0,t.apply(this,e)})))}}function A(){return new b}function O(e){return(new w(e,!0)).promise()}function M(e){return A().errback(e)}function _(e){return A().callback(e)}var u=n.forEach,a=r.isUndefinedOrNull,f=r.isArray,l=r.isFunction,c=r.isBoolean,h=o.bind,p=o.bindIgnore,v;if(typeof s!="undefined")v=s.nextTick;else if(typeof setImmediate=="function")v=setImmediate;else if(typeof MessageChannel!="undefined"){var m=new MessageChannel,g={},y=g;m.port1.onmessage=function(){g=g.next;var e=g.task;delete g.task,e()},v=function(e){y=y.next={task:e},m.port2.postMessage(0)}}else v=function(e){setTimeout(e,0)};var b=e({instance:{__fired:!1,__results:null,__error:null,__errorCbs:null,__cbs:null,constructor:function(){this.__errorCbs=[],this.__cbs=[],o.bindAll(this,["callback","errback","resolve","classic","__resolve","addCallback","addErrback"])},__resolve:function(){if(!this.__fired){this.__fired=!0;var e=this.__error?this.__errorCbs:this.__cbs,t=e.length,n,r=this.__error||this.__results;for(n=0;n<t;n++)this.__callNextTick(e[n],r)}},__callNextTick:function(e,t){v(function(){e.apply(this,t)})},addCallback:function(e){return e&&(S(e)&&e.callback&&(e=e.callback),this.__fired&&this.__results?this.__callNextTick(e,this.__results):this.__cbs.push(e)),this},addErrback:function(e){return e&&(S(e)&&e.errback&&(e=e.errback),this.__fired&&this.__error?this.__callNextTick(e,this.__error):this.__errorCbs.push(e)),this},callback:function(e){return this.__fired||(this.__results=arguments,this.__resolve()),this.promise()},errback:function(e){return this.__fired||(this.__error=arguments,this.__resolve()),this.promise()},resolve:function(e,t){return e?this.errback(e):this.callback.apply(this,i(arguments,1)),this},classic:function(e){return"function"==typeof e&&(this.addErrback(function(t){e(t)}),this.addCallback(function(){e.apply(this,[null].concat(i(arguments)))})),this},then:function(e,t){var n=new b,r=n;return l(t)&&(r=d(t,n)),this.addErrback(r),l(e)?this.addCallback(d(e,n)):this.addCallback(n),n.promise()},both:function(e){return this.then(e,e)},promise:function(){var e={then:h(this,"then"),both:h(this,"both"),promise:function(){return e}};return u(["addCallback","addErrback","classic"],function(t){e[t]=h(this,function(){return this[t].apply(this,arguments),e})},this),e}}}),w=b.extend({instance:{__results:null,__errors:null,__promiseLength:0,__defLength:0,__firedLength:0,normalizeResults:!1,constructor:function(e,t){this.__errors=[],this.__results=[],this.normalizeResults=c(t)?t:!1,this._super(arguments),e&&e.length?(this.__defLength=e.length,u(e,this.__addPromise,this)):this.__resolve()},__addPromise:function(e,t){e.then(h(this,function(){var e=i(arguments);e.unshift(t),this.callback.apply(this,e)}),h(this,function(){var e=i(arguments);e.unshift(t),this.errback.apply(this,e)}))},__resolve:function(){if(!this.__fired){this.__fired=!0;var e=this.__errors.length?this.__errorCbs:this.__cbs,t=e.length,n,r=this.__errors.length?this.__errors:this.__results;for(n=0;n<t;n++)this.__callNextTick(e[n],r)}},__callNextTick:function(e,t){v(function(){e.apply(null,[t])})},addCallback:function(e){return e&&(S(e)&&e.callback&&(e=h(e,"callback")),this.__fired&&!this.__errors.length?this.__callNextTick(e,this.__results):this.__cbs.push(e)),this},addErrback:function(e){return e&&(S(e)&&e.errback&&(e=h(e,"errback")),this.__fired&&this.__errors.length?this.__callNextTick(e,this.__errors):this.__errorCbs.push(e)),this},callback:function(e){if(this.__fired)throw new Error("Already fired!");var t=i(arguments);return this.normalizeResults&&(t=t.slice(1),t=t.length==1?t.pop():t),this.__results[e]=t,this.__firedLength++,this.__firedLength==this.__defLength&&this.__resolve(),this.promise()},errback:function(e){if(this.__fired)throw new Error("Already fired!");var t=i(arguments);return this.normalizeResults&&(t=t.slice(1),t=t.length==1?t.pop():t),this.__errors[e]=t,this.__firedLength++,this.__firedLength==this.__defLength&&this.__resolve(),this.promise()}}});return t.define({isPromiseLike:S}).expose({isPromiseLike:S,when:T,wrap:N,wait:L,serial:C,chain:k,Promise:b,PromiseList:w,promise:A,defer:A,deferredList:O,reject:M,resolve:_})}var r=Array.prototype.slice;"undefined"!=typeof n?"undefined"!=typeof t&&t.exports&&(t.exports=o(e("declare.js"),e("extended"),e("array-extended"),e("is-extended"),e("function-extended"))):"function"==typeof define?define(["require"],function(e){return o(e("declare.js"),e("extended"),e("array-extended"),e("is-extended"),e("function-extended"))}):this.arrayExtended=o(this.declare,this.extended,this.arrayExtended,this.isExtended,this.functionExtended)}).call(this)}),e.define("/node_modules/function-extended/package.json",function(e,t,n,r,i,s,o){t.exports={main:"index.js"}}),e.define("/node_modules/function-extended/index.js",function(e,t,n,r,i,s,o){(function(){"use strict";function r(e,t){function u(e,t){return t=t||0,o.call(e,t)}function a(e,t,n){n=u(arguments,2);if(!i(t)||t in e){if(!i(t)&&!s(t))throw new Error(t+" is not a function");return i(t)?function(){var r=e[t];if(s(r)){var i=n.concat(u(arguments));return r.apply(e,i)}return r}:n.length?function(){var r=n.concat(u(arguments));return t.apply(e,r)}:function(){return t.apply(e,arguments)}}throw new Error(t+" property not defined in scope")}function f(e,t){t=u(arguments,1);if(!i(e)&&!s(e))throw new Error(e+" must be the name of a property or function to execute");return i(e)?function(){var n=u(arguments),r=n.shift(),i=r[e];return s(i)?(n=t.concat(n),i.apply(r,n)):i}:function(){var n=u(arguments),r=n.shift();return n=t.concat(n),e.apply(r,n)}}function l(e,t,n){n=u(arguments,2);if(!i(t)||t in e){if(!i(t)&&!s(t))throw new Error(t+" is not a function");return i(t)?function(){var r=e[t];return s(r)?r.apply(e,n):r}:function(){return t.apply(e,n)}}throw new Error(t+" property not defined in scope")}function c(e){var t=u(arguments,1);if(!r(e)&&!s(e))throw new TypeError("scope must be an object");t.length===1&&n(t[0])&&(t=t[0]);if(!t.length){t=[];for(var i in e)e.hasOwnProperty(i)&&s(e[i])&&t.push(i)}for(var o=0,f=t.length;o<f;o++)e[t[o]]=a(e,e[t[o]]);return e}function h(e,t){t=u(arguments,1);if(!i(e)&&!s(e))throw new Error(e+" must be the name of a property or function to execute");return i(e)?function(){var n=this[e];if(s(n)){var r=t.concat(u(arguments));return n.apply(this,r)}return n}:function(){var n=t.concat(u(arguments));return e.apply(this,n)}}function p(e,t){return function(){var n=u(arguments);return t?e.apply(this,arguments):function(){return e.apply(this,n.concat(u(arguments)))}}}function d(e,t,n){var r;n?r=a(n,t):r=t;if(e){var i=e-1;for(var s=i;s>=0;s--)r=p(r,s===i)}return r}var n=t.isArray,r=t.isObject,i=t.isString,s=t.isFunction,o=Array.prototype.slice;return e.define(r,{bind:a,bindAll:c,bindIgnore:l,curry:function(e,t,n){return d(t,n,e)}}).define(s,{bind:function(e,t){return a.apply(this,[t,e].concat(u(arguments,2)))},bindIgnore:function(e,t){return l.apply(this,[t,e].concat(u(arguments,2)))},partial:h,applyFirst:f,curry:function(e,t,n){return d(t,e,n)},noWrap:{f:function(){return this.value()}}}).define(i,{bind:function(e,t){return a(t,e)},bindIgnore:function(e,t){return l(t,e)},partial:h,applyFirst:f,curry:function(e,t,n){return d(t,e,n)}}).expose({bind:a,bindAll:c,bindIgnore:l,partial:h,applyFirst:f,curry:d})}"undefined"!=typeof n?"undefined"!=typeof t&&t.exports&&(t.exports=r(e("extended"),e("is-extended"))):"function"==typeof define?define(["require"],function(e){return r(e("extended"),e("is-extended"))}):this.functionExtended=r(this.extended,this.isExtended)}).call(this)}),e.define("events",function(e,t,n,r,i,s,o){function f(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}s.EventEmitter||(s.EventEmitter=function(){});var u=n.EventEmitter=s.EventEmitter,a=typeof Array.isArray=="function"?Array.isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"},l=10;u.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._events.maxListeners=e},u.prototype.emit=function(e){if(e==="error")if(!this._events||!this._events.error||a(this._events.error)&&!this._events.error.length)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if(typeof t=="function"){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);t.apply(this,n)}return!0}if(a(t)){var n=Array.prototype.slice.call(arguments,1),r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i].apply(this,n);return!0}return!1},u.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");this._events||(this._events={}),this.emit("newListener",e,t);if(!this._events[e])this._events[e]=t;else if(a(this._events[e])){if(!this._events[e].warned){var n;this._events.maxListeners!==undefined?n=this._events.maxListeners:n=l,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}this._events[e].push(t)}else this._events[e]=[this._events[e],t];return this},u.prototype.on=u.prototype.addListener,u.prototype.once=function(e,t){var n=this;return n.on(e,function r(){n.removeListener(e,r),t.apply(this,arguments)}),this},u.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var n=this._events[e];if(a(n)){var r=f(n,t);if(r<0)return this;n.splice(r,1),n.length==0&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},u.prototype.removeAllListeners=function(e){return e&&this._events&&this._events[e]&&(this._events[e]=null),this},u.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}}),e.define("/lib/interfaces/index.js",function(e,t,n,r,i,s,o){"use strict";var u=e("./common").Test,a=e("./bdd"),f=e("./tdd");t.exports={Test:u,bdd:a,tdd:f,reporter:function(t){u.reporter=t,a.reporter(t),f.reporter(t)},printSummary:function(){return u.printSummary()},run:function(t){return u.run(t)}}}),e.define("/lib/interfaces/common/index.js",function(e,t,n,r,i,s,o){n.Action=e("./action"),n.Test=e("./test.js")}),e.define("/lib/interfaces/common/action.js",function(e,t,n,r,i,s,o){"use strict";var u=e("../../extended"),a=u.isFunction,f=e("./emitter"),l=u.merge,c=u.Promise,h=e("../../utils"),p=h.setUpCb;f.extend({instance:{level:0,constructor:function(e,t,n,r){this._super(arguments),this.level=n,this.description=e,this.parent=t,this.timeout=t.__timeout,this.fn=r,this.__summary={description:e,start:null,end:null,duration:0,status:"pending",error:!1};var i=this.stub=!a(r);this.action=i?u.resolve(this.__summary):p(r,this.timeout)},success:function(e,t){return l(this.get("summary"),{start:e,end:t,duration:t-e,status:"passed"}),this.emit("success",this),this.get("summary")},failed:function(e,t,n){return l(this.get("summary"),{start:e,end:t,duration:t-e,status:"failed",error:n||new Error}),this.error=n,this.emit("error",this),this.get("summary")},run:function(){var e=new c,t=new Date;return this.stub?(e=this.action,this.emit("pending",this)):e=this.action(this.parent).then(u.bind(this,function(){return this.success(t,new Date)}),u.bind(this,function(e){return this.failed(t,new Date,e)})),e},getters:{status:function(){return this.__summary.status},summary:function(){return this.__summary},fullName:function(){var e="";return this.parent&&(e+=this.parent.get("fullName")+":"),e+=" "+this.description,e}}}}).as(t)}),e.define("/lib/interfaces/common/emitter.js",function(e,t,n,r,i,s,o){"use strict";var u=e("../../extended"),a=e("events").EventEmitter,f=u.merge({},a.prototype,{constructor:function(){return a.call(this),this._super(arguments)}});u.declare({instance:f}).as(t)}),e.define("/lib/utils.js",function(e,t,n,r,i,s,o){"use strict";function h(e){var t=[];return l(e)&&(t=u(e.split("|")).map(function(e){return u(e.replace(/^\s*|\s$/g,"").split(":")).map(function(e){return e.replace(/^\s*|\s$/g,"")}).value()}).value()),t}function p(e,t){return function(n){var r=new c,i=new c,o=!1,l,h=n.ignoreErrors()===!0,p=function(e){o||(o=!0,r.errback(e))};h===!1&&(typeof window!="undefined"?(l=window.onerror,window.onerror=function(t,n,r){return p(t),!1}):s.on("uncaughtException",p));try{var d=function(e){o||(e?r.errback(e):r.callback(),o=!0)},v=e.length,m=u.bind(i,e)(d,i);u.isNumber(t)&&setTimeout(function(){o||(o=!0,r.errback(new Error("Timeout exceeded")))},t);if(a(m))m.then(i.callback,i.errback);else if(f(m)||v===0)o||(r.callback(),o=!0);i.then(function(){o||(r.callback(),o=!0)},function(e){o||(r.errback(e),o=!0)})}catch(g){o||(r.errback(g),o=!0)}return r.both(function(){h===!1&&(typeof window!="undefined"?window.onerror=l:s.removeListener("uncaughtException",p))}),r}}var u=e("./extended"),a=u.isPromiseLike,f=u.isDefined,l=u.isString,c=u.Promise;n.splitFilter=h,n.setUpCb=p}),e.define("/lib/interfaces/common/test.js",function(e,t,n,r,i,s,o){"use strict";var u=e("../../utils"),a=u.splitFilter,f=u.setUpCb,l=e("../../extended"),c=e("./emitter"),h=l.isEmpty,p=l.isString,d=l.merge,v=l.Promise,m=e("./action");c.extend({instance:{sub:!1,__timeout:null,parent:null,level:0,stopOnError:!1,__ignoreProcessError:!1,constructor:function g(e,t){this._super(arguments),this.Action=this._static.Action,this.description=e,this.__shoulds=[],this.__ba=[],this.__be=[],this.__aa=[],this.__ae=[],d(this,t),!this.sub&&!this.filtered&&(this._static.tests[e]=this),l.bindAll(this,["_addAction","ignoreErrors","_addTest","timeout","getAction","beforeAll","beforeEach","afterAll","afterEach","context","get","set","skip"])},ignoreErrors:function(e){if(!l.isBoolean(e))return this.__ignoreProcessError;this.__ignoreProcessError=e},timeout:function(e){this.__timeout=e},getAction:function(t){var n=l.filter(this.__shoulds,function(e){return e instanceof this.Action?e.description===t:!1},this);return n.length!==0?n[0]:null},as:function(e){return e.exports=this,this},beforeAll:function(e){return this.__ba.push(l.partial(f(e),this)),this},beforeEach:function(e){return this.__be.push(l.partial(f(e),this)),this},afterAll:function(e){return this.__aa.push(l.partial(f(e),this)),this},afterEach:function(e){return this.__ae.push(l.partial(f(e),this)),this},context:function(e){var t=this._static.clone(this,null,{sub:!0});return this.emit("addTest",t),e&&e(t),this.__shoulds.push(t),t},skip:function(e){this._addAction(e)},_addTest:function(e,t){var n=this._static.clone(this,e,{sub:!0,level:this.level+1,parent:this},t),r=n._addAction;return l(["suite","test","should","describe","timeout","ignoreErrors","getAction","beforeAll","beforeEach","afterAll","afterEach","context","get","set","skip"]).forEach(function(e){l.isFunction(n[e])&&(r[e]=n[e])}),t&&t(r),this.__shoulds.push(n),n},_addAction:function(e,t){var n=new this.Action(e,this,this.level+1,t);return this.__shoulds.push(n),this},__runAction:function(e){var t=this.stopOnError;return l.serial(this.__be).then(l.bind(this,function(){var n=new v;return e.run(this).then(l.bind(this,function(){var i=e.get("summary");i.status==="pending"?n.callback():i.status==="passed"?n.callback():n[t?"errback":"callback"]()}),l.bind(this,function(t){this.error=t,this.emit("error",this)})),n})).then(l.bind(this,function(){return l.serial(this.__ae)}))},run:function(e){var t;return e?t=this.filter(e).run():(t=this.__runPromise,t||(this.emit("run",this),t=this.__runPromise=l.serial(this.__ba).then(l.bind(this,function(){return l.serial(l.map(this.__shoulds,function(e){return l.bind(this,function(){var t;return e instanceof m?(this.emit("action",e),t=this.__runAction(e)):(this.emit("test",e),t=e.run()),t})},this))})).then(l.bind(this,function(){return l.serial(this.__aa)}),l.bind(this,function(t){this.error=t,this.emit("error",this)})).both(l.bind(this,"emit","done",this)))),t},matches:function(t){return this.description===t},filter:function(t){var n=this,r,i;return t.length&&(t=p(t)?a(t):[t],t&&(n=this._static.clone(this,this.description,{sub:this.sub,filtered:this.sub?!1:!0,parent:this.parent,__ba:this.__ba.slice(0),__aa:this.__ba.slice(0),__shoulds:l(this.__shoulds).map(function(e){var n,s=!1,o=null;for(r=0,i=t.length;r<i&&!s;r++)e.description===t[r][0]&&(s=!0,n=t[r].slice(1));return s&&(e instanceof this.Action?o=e:o=e.filter(n)),o},this).compact().value()}))),n},getters:{summary:function(){var e=0,t={description:this.description,summaries:{}},n=t.summaries;return l.map(this.__shoulds,function(t){var r=t.get("summary");t instanceof m||t.description?(n[t.description]=r,e+=r.duration):(d(n,r.summaries),e+=r.duration)}),t.duration=e,t},fullName:function(){var e="";return this.parent&&(e+=this.parent.get("fullName")+":"),e+=" "+this.description,e},length:function(){return l(this.__shoulds).map(function(e){return e instanceof m?1:e.get("length")}).sum().value()},errorCount:function(){return l(this.__shoulds).map(function(e){return e instanceof m?e.get("status")==="failed"?1:0:e.get("errorCount")}).sum().value()},successCount:function(){return l(this.__shoulds).map(function(e){return e instanceof m?e.get("status")==="passed"?1:0:e.get("successCount")}).sum().value()},pendingCount:function(){return l(this.__shoulds).map(function(e){return e instanceof m?e.get("status")==="pending"?1:0:e.get("pendingCount")}).sum().value()}}},"static":{tests:{},init:function(){this.Action=m},clone:function(e,t,n,r){return new this(t,d({__timeout:e.__timeout,level:e.level,__be:e.__be.slice(),__ae:e.__ae.slice(),parent:e,stopOnError:e.stopOnError,__ignoreProcessError:e.ignoreErrors()},n),r)},__filter:function(e){var t={},n=this.tests,r=l.pluck(e,"0");return l.forEach(r,function(r,i){var s=n[r];if(s){var o=n[r].filter(e[i].slice(1));t[r]?t[r].__shoulds=t[r].__shoulds.concat(o.__shoulds):t[r]=o}}),t},run:function(t){var n={},r=this.tests;return t=a(t),t.length&&(r=this.__filter(t)),h(r)?(console.warn("No Tests found"),l.resolve()):(l.bus.emit("start",{tests:r,numActions:l(r).values().invoke("get","length").sum().value()}),l.serial(l(r).keys().map(function(e){return function(){return l.bus.emit("test",r[e]),r[e].run().both(function(t){n[e]=t})}}).value()).then(l.bindIgnore(this,"printSummary")))},printSummary:function(){var t=this.tests,n={summary:{},errorCount:0,successCount:0,pendingCount:0};if(!h(t)){var r=l.hash.keys(t),i=0,s=0,o=0,u=0;l(t).forEach(function(e,t){var r=e.get("summary");n.errorCount+=e.get("errorCount"),n.successCount+=e.get("successCount"),n.pendingCount+=e.get("pendingCount"),r&&(n.summary[t]=r,i+=1)}),i<r.length&&l.bus.emit("error",new Error("Async Error")),l.bus.emit("done",n)}return n}}}).as(t)}),e.define("/lib/interfaces/bdd.js",function(e,t,n,r,i,s,o){"use strict";var u=e("./common").Test,a=e("../extended");u.extend({instance:{constructor:function(){this._super(arguments),a.bindAll(this,["describe","should"])},describe:function(e,t){return this._addTest(e,t)},should:function(e,t){return this._addAction("should "+e,t)}},"static":{init:function(){a.bindAll(this,["describe"])},describe:function(t,n){var r=new this(t,{}),i=r._addAction;return a(["description","should","describe","timeout","getAction","beforeAll","beforeEach","afterAll","afterEach","context","get","set","skip","ignoreErrors"]).forEach(function(e){i[e]=r[e]}),n(i),r}}}).as(t)}),e.define("/lib/interfaces/tdd.js",function(e,t,n,r,i,s,o){"use strict";var u=e("./common").Test,a=e("../extended");u.extend({instance:{constructor:function(){this._super(arguments),a.bindAll(this,["suite","test"])},suite:function(e,t){return this._addTest(e,t)},test:function(e,t){return this._addAction(e,t)}},"static":{init:function(){a.bindAll(this,"suite")},suite:function(t,n){var r=new this(t,{}),i=r._addAction;return a(["suite","test","timeout","getAction","beforeAll","beforeEach","afterAll","afterEach","context","get","set","skip","ignoreErrors"]).forEach(function(e){i[e]=r[e]}),n(r),r}}}).as(t)}),e.define("/lib/formatters/reporter.js",function(e,t,n,r,i,s,o){"use strict";var u=e("../extended"),a=u.style,f=u.format,l=function(e,t){return e!==1?t+"s":t};u.declare({instance:{constructor:function(){this.errors=[],u.bindAll(this,["startTests","testError","printFinalSummary","listenTest","listenAction","testRun","testEnd","actionError","actionSuccess","actionPending","testsDone"]),u.bus.on("start",this.startTests),u.bus.on("error",this.testError),u.bus.on("done",this.testsDone),u.bus.on("test",this.listenTest)},listenTest:function(t){t.on("test",this.listenTest),t.on("action",this.listenAction),t.on("run",this.testRun),t.on("error",this.testError),t.on("done",this.testEnd)},listenAction:function(t){t.on("error",this.actionError),t.on("success",this.actionSuccess),t.on("pending",this.actionPending)},formatMs:function(t){return f("% 6ds",t/1e3)},startTests:function(){},testRun:function(){},actionSuccess:function(){},actionPending:function(){},actionError:function(t){var n=t.get("summary").error;this.errors.push({error:n,test:t})},testError:function(t){this.errors.push({error:t.error,test:t})},processSummary:function(t){t.hasOwnProperty("summaries")&&(t=t.summaries);var n=0,r=0,i=0,s={},o=0;return u(t).forEach(function(e){o+=e.duration}),function a(e){u(e).forEach(function(e,t){e.hasOwnProperty("summaries")?a(e.summaries):e.status==="passed"?r++:e.status==="pending"?i++:(s[t]=e.error,n++)})}(t),{errCount:n,successCount:r,pendingCount:i,errors:s,duration:o}},testEnd:function(){},testsDone:function(e){this.printFinalSummary(e)},printFinalSummary:function(e){this.testEnd.apply(this,arguments),console.log("\nSummary");var t=this.processSummary(e.summary||e.get("summary")),n=t.errCount,r=t.successCount,i=t.pendingCount,s=t.duration;console.log(f("Finished in %s",this.formatMs(s)));var o=[r+l(r," example"),n+l(n," error"),i+" pending"],u=i>0?"cyan":n>0?"red":"green";return console.log(a(o.join(", "),u)),this._static.list(this.errors),n?1:0}},"static":{reporters:{},registerType:function(e){return e=e.toLowerCase(),this.reporters.hasOwnProperty(e)||(this.reporters[e]=this),this},getInstance:function(e,t){e=e.toLowerCase();if(this.reporters.hasOwnProperty(e))return new this.reporters[e](t||{});throw new Error("Invalid Reporter type")},list:function(e){console.error(),e.forEach(function(e,t){var n="  %s) %s:\n"+a("     %s","red")+a("\n%s\n",["red","bold"]),r=e.error,i=r.message||"",s=r.stack||i,o=s.indexOf(i)+i.length,u=s.slice(0,o);s=s.slice(o?o+1:o).replace(/^/gm,"  "),console.error(n,t+1,e.test.get("fullName"),u,s)})}}}).as(t)}),e.define("/lib/browser/formatters/html.js",function(e,t,n,r,i,s,o){"use strict";function h(e){return e.level*2.5+"em"}function p(e,t){var n=document.createElement(e);return u(l.call(arguments,2)).forEach(function(e){u.isString(e)?n.appendChild(document.createTextNode(e)):e&&n.appendChild(e)}),u(t||{}).forEach(function(e,t){t==="className"?n[t]=e:n.setAttribute(t,e)}),n}function d(e,t){var n=document.querySelectorAll('[data-it-actionName="'+e.get("fullName")+'"]');for(var r=0,i=n.length;r<i;r++){var s=n.item(r),o=s.className;s.className=o.replace(/(not-run|pending|error|passed) */ig,"")+" "+t}}var u=e("../../extended"),a=e("../../formatters/reporter"),f=u.format,l=Array.prototype.slice,c=function(e,t){return e!==1?t+"s":t};a.extend({instance:{constructor:function(e){this._super(arguments),this.el=document.getElementById(e),this.header=this.el.appendChild(p("div",{className:"header"},p("h1",{},p("a",{href:"?"},"It")))),this.summary=this.header.appendChild(p("div",{className:"summary"})),this.progress=this.el.appendChild(p("ul",{className:"progress"})),this.actions=this.el.appendChild(p("div",{className:"actions"})),this.errors=[];if(!this.el)throw new Error("Unable to find el with id #"+e)},listenAction:function(e){this._super(arguments);var t=e.get("fullName");this.progress.appendChild(p("li",{className:"not-run","data-it-actionName":t}))},testRun:function(t){t.description&&this.actions.appendChild(p("div",{className:"header",style:"padding-left:"+h(t),"data-it-actionName":t.get("fullName")},p("a",{href:"?filter="+encodeURIComponent(t.get("fullName"))},t.description)))},__addAction:function(e){var t=e.get("summary");return this.actions.appendChild(p("div",{className:"pending",style:"padding-left:"+h(e),"data-it-actionName":e.get("fullName")},p("a",{href:"?filter="+encodeURIComponent(e.get("fullName"))},f(" %s, (%dms)",e.description,t.duration)))),d(e,t.status),this},actionSuccess:function(e){this.__addAction(e)},actionPending:function(e){this.__addAction(e)},actionError:function(t){this._super(arguments),this.__addAction(t)},printErrors:function(){this.errors.length&&(this.actions.innerHTML="",u(this.errors).forEach(function(e,t){var n=e.error,r=e.test;this.actions.appendChild(p("pre",{className:"failed"},f("  %s) %s:",t,r.get("fullName")),p("br"),(n.stack?n.stack:n).toString().replace(/^/gm,"       ")))},this))},printFinalSummary:function(e){var t=e.summary,n=this.processSummary(t),r=n.errCount,i=n.successCount,s=n.pendingCount,o=n.duration,u=["Duration "+this.formatMs(o),i+c(i," example"),r+c(r," error"),s+" pending"];return this.summary.appendChild(p("div",{className:s>0?"pending":r>0?"failed":"success"},u.join(", "))),this.printErrors(),r?1:0}}}).as(t).registerType("html")}),e.define("/lib/formatters/tap.js",function(e,t,n,r,i,s,o){"use strict";function l(e){return e.get("fullName").replace(/#/g,"")}var u=e("../extended"),a=u.format,f=e("./reporter");f.extend({instance:{numActions:0,ran:0,passed:0,failed:0,listenAction:function(){return this.numActions++,this._super(arguments)},startTests:function(e){console.log(a("%d..%d",1,this.numActions=e.numActions))},actionSuccess:function(t){this.passed++,console.log(a("ok %d %s",++this.ran,l(t)))},actionPending:function(t){console.log(a("ok %d %s # SKIP -",++this.ran,l(t)))},actionError:function(t){this.failed++;var n=t.get("summary"),r=n.error;console.log(a("not ok %d %s",++this.ran,l(t))),r.stack?console.log(r.stack.replace(/^/gm,"  ")):r.message?console.log(r.message):console.log(r)},printFinalSummary:function(){return console.log("# tests "+(this.passed+this.failed)),console.log("# pass "+this.passed),console.log("# fail "+this.failed),this.failed?1:0}}}).as(t).registerType("tap")}),e.define("/lib/extension.js",function(e,t,n,r,i,s,o){var u=e("assert"),a=e("./extended"),f=a.format;u.lengthOf=function(e,t,n){e.length!==t&&u.fail(e.length,t,n||f("expected %s, to have %d elements",[e,t]),u.lengthOf)},u.truthy=function(e,t){e||u.fail(e,!0,t||f("expected %s to be truthy",e),u.truthy)},u.falsy=function(e,t){e&&u.fail(e,!1,t||f("expected %s to be falsy",e),u.truthy)},u.isRegExp=function(e,t){a.isRegExp(e)||u.fail(e,0,t||f("expected %s, to be a regex",e),u.isRexExp)},a.forEach([["isTrue","true"],["isFalse","false"],["isArray","an array"],["isNull","null"],["isNotNull","not null"],["isNumber","a number"],["isHash","a hash"],["isObject","an object"],["isDate","a date"],["isBoolean","a boolean"],["isString","a string"],["isUndefined","undefined"],["isUndefinedOrNull","undefined or null"],["isPromiseLike","a promise"],["isFunction","a function"],["isEmpty","empty"]],function(e){var t=e[0],n=e[1];u[t]=function(e,r){a[t](e)||u.fail(e,0,r||f("expected %s, to be "+n,e),u[t])}}),u.instanceOf=function(e,t,n){a.instanceOf(e,t)||u.fail(e,t,n||f("expected %j to be instanceof %s",[e,t]),"===",u.isNotNull)},t.exports=u}),e.define("assert",function(e,t,n,r,i,s,o){function l(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}function h(e,t){return t===undefined?""+t:typeof t=="number"&&(isNaN(t)||!isFinite(t))?t.toString():typeof t=="function"||t instanceof RegExp?t.toString():t}function p(e,t){return typeof e=="string"?e.length<t?e:e.slice(0,t):e}function d(e,t,n,r,i){throw new c.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function v(e,t){e||d(e,!0,t,"==",c.ok)}function m(e,t){if(e===t)return!0;if(a.isBuffer(e)&&a.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():typeof e!="object"&&typeof t!="object"?e==t:b(e,t)}function g(e){return e===null||e===undefined}function y(e){return Object.prototype.toString.call(e)=="[object Arguments]"}function b(e,t){if(g(e)||g(t))return!1;if(e.prototype!==t.prototype)return!1;if(y(e))return y(t)?(e=f.call(e),t=f.call(t),m(e,t)):!1;try{var n=l(e),r=l(t),i,s}catch(o){return!1}if(n.length!=r.length)return!1;n.sort(),r.sort();for(s=n.length-1;s>=0;s--)if(n[s]!=r[s])return!1;for(s=n.length-1;s>=0;s--){i=n[s];if(!m(e[i],t[i]))return!1}return!0}function w(e,t){return!e||!t?!1:t instanceof RegExp?t.test(e):e instanceof t?!0:t.call({},e)===!0?!0:!1}function E(e,t,n,r){var i;typeof n=="string"&&(r=n,n=null);try{t()}catch(s){i=s}r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&d("Missing expected exception"+r),!e&&w(i,n)&&d("Got unwanted exception"+r);if(e&&i&&n&&!w(i,n)||!e&&i)throw i}var u=e("util"),a=e("buffer").Buffer,f=Array.prototype.slice,c=t.exports=v;c.AssertionError=function(t){this.name="AssertionError",this.message=t.message,this.actual=t.actual,this.expected=t.expected,this.operator=t.operator;var n=t.stackStartFunction||d;Error.captureStackTrace&&Error.captureStackTrace(this,n)},u.inherits(c.AssertionError,Error),c.AssertionError.prototype.toString=function(){return this.message?[this.name+":",this.message].join(" "):[this.name+":",p(JSON.stringify(this.actual,h),128),this.operator,p(JSON.stringify(this.expected,h),128)].join(" ")},c.AssertionError.__proto__=Error.prototype,c.fail=d,c.ok=v,c.equal=function(t,n,r){t!=n&&d(t,n,r,"==",c.equal)},c.notEqual=function(t,n,r){t==n&&d(t,n,r,"!=",c.notEqual)},c.deepEqual=function(t,n,r){m(t,n)||d(t,n,r,"deepEqual",c.deepEqual)},c.notDeepEqual=function(t,n,r){m(t,n)&&d(t,n,r,"notDeepEqual",c.notDeepEqual)},c.strictEqual=function(t,n,r){t!==n&&d(t,n,r,"===",c.strictEqual)},c.notStrictEqual=function(t,n,r){t===n&&d(t,n,r,"!==",c.notStrictEqual)},c.throws=function(e,t,n){E.apply(this,[!0].concat(f.call(arguments)))},c.doesNotThrow=function(e,t,n){E.apply(this,[!1].concat(f.call(arguments)))},c.ifError=function(e){if(e)throw e}}),e.define("util",function(e,t,n,r,i,s,o){function a(e){return e instanceof Array||Array.isArray(e)||e&&e!==Object.prototype&&a(e.__proto__)}function f(e){return e instanceof RegExp||typeof e=="object"&&Object.prototype.toString.call(e)==="[object RegExp]"}function l(e){if(e instanceof Date)return!0;if(typeof e!="object")return!1;var t=Date.prototype&&v(Date.prototype),n=e.__proto__&&v(e.__proto__);return JSON.stringify(n)===JSON.stringify(t)}function c(e){return e<10?"0"+e.toString(10):e.toString(10)}function p(){var e=new Date,t=[c(e.getHours()),c(e.getMinutes()),c(e.getSeconds())].join(":");return[e.getDate(),h[e.getMonth()],t].join(" ")}var u=e("events");n.isArray=a,n.isDate=function(e){return Object.prototype.toString.call(e)==="[object Date]"},n.isRegExp=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},n.print=function(){},n.puts=function(){},n.debug=function(){},n.inspect=function(e,t,r,i){function u(e,r){if(e&&typeof e.inspect=="function"&&e!==n&&(!e.constructor||e.constructor.prototype!==e))return e.inspect(r);switch(typeof e){case"undefined":return o("undefined","undefined");case"string":var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return o(i,"string");case"number":return o(""+e,"number");case"boolean":return o(""+e,"boolean")}if(e===null)return o("null","null");var c=d(e),h=t?v(e):c;if(typeof e=="function"&&h.length===0){if(f(e))return o(""+e,"regexp");var p=e.name?": "+e.name:"";return o("[Function"+p+"]","special")}if(l(e)&&h.length===0)return o(e.toUTCString(),"date");var m,g,y;a(e)?(g="Array",y=["[","]"]):(g="Object",y=["{","}"]);if(typeof e=="function"){var b=e.name?": "+e.name:"";m=f(e)?" "+e:" [Function"+b+"]"}else m="";l(e)&&(m=" "+e.toUTCString());if(h.length===0)return y[0]+m+y[1];if(r<0)return f(e)?o(""+e,"regexp"):o("[Object]","special");s.push(e);var w=h.map(function(t){var n,i;e.__lookupGetter__&&(e.__lookupGetter__(t)?e.__lookupSetter__(t)?i=o("[Getter/Setter]","special"):i=o("[Getter]","special"):e.__lookupSetter__(t)&&(i=o("[Setter]","special"))),c.indexOf(t)<0&&(n="["+t+"]"),i||(s.indexOf(e[t])<0?(r===null?i=u(e[t]):i=u(e[t],r-1),i.indexOf("\n")>-1&&(a(e)?i=i.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):i="\n"+i.split("\n").map(function(e){return"   "+e}).join("\n"))):i=o("[Circular]","special"));if(typeof n=="undefined"){if(g==="Array"&&t.match(/^\d+$/))return i;n=JSON.stringify(""+t),n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=o(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=o(n,"string"))}return n+": "+i});s.pop();var E=0,S=w.reduce(function(e,t){return E++,t.indexOf("\n")>=0&&E++,e+t.length+1},0);return S>50?w=y[0]+(m===""?"":m+"\n ")+" "+w.join(",\n  ")+" "+y[1]:w=y[0]+m+" "+w.join(", ")+" "+y[1],w}var s=[],o=function(e,t){var n={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue","boolean":"yellow","undefined":"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[t];return r?"["+n[r][0]+"m"+e+"["+n[r][1]+"m":e};return i||(o=function(e,t){return e}),u(e,typeof r=="undefined"?2:r)};var h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(e){},n.pump=null;var d=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},v=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.hasOwnProperty.call(e,n)&&t.push(n);return t},m=Object.create||function(e,t){var n;if(e===null)n={__proto__:null};else{if(typeof e!="object")throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return typeof t!="undefined"&&Object.defineProperties&&Object.defineProperties(n,t),n};n.inherits=function(e,t){e.super_=t,e.prototype=m(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};var g=/%[sdj%]/g;n.format=function(e){if(typeof e!="string"){var t=[];for(var r=0;r<arguments.length;r++)t.push(n.inspect(arguments[r]));return t.join(" ")}var r=1,i=arguments,s=i.length,o=String(e).replace(g,function(e){if(e==="%%")return"%";if(r>=s)return e;switch(e){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":return JSON.stringify(i[r++]);default:return e}});for(var u=i[r];r<s;u=i[++r])u===null||typeof u!="object"?o+=" "+u:o+=" "+n.inspect(u);return o}}),e.define("buffer",function(e,t,n,r,i,s,o){t.exports=e("buffer-browserify")}),e.define("/node_modules/buffer-browserify/package.json",function(e,t,n,r,i,s,o){t.exports={main:"index.js",browserify:"index.js"}}),e.define("/node_modules/buffer-browserify/index.js",function(e,t,n,r,i,s,o){function u(e){this.length=e}function f(e){return e<16?"0"+e.toString(16):e.toString(16)}function l(e){var t=[];for(var n=0;n<e.length;n++)if(e.charCodeAt(n)<=127)t.push(e.charCodeAt(n));else{var r=encodeURIComponent(e.charAt(n)).substr(1).split("%");for(var i=0;i<r.length;i++)t.push(parseInt(r[i],16))}return t}function c(e){var t=[];for(var n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return t}function h(t){return e("base64-js").toByteArray(t)}function p(e,t,n,r){var i,s=0;while(s<r){if(s+n>=t.length||s>=e.length)break;t[s+n]=e[s],s++}return s}function d(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}function v(e){return e=~~Math.ceil(+e),e<0?0:e}function m(e,t,n){if(!(this instanceof m))return new m(e,t,n);var r;if(typeof n=="number")this.length=v(t),this.parent=e,this.offset=n;else{switch(r=typeof e){case"number":this.length=v(e);break;case"string":this.length=m.byteLength(e,t);break;case"object":this.length=v(e.length);break;default:throw new Error("First argument needs to be a number, array or string.")}this.length>m.poolSize?(this.parent=new u(this.length),this.offset=0):((!y||y.length-y.used<this.length)&&b(),this.parent=y,this.offset=y.used,y.used+=this.length);if(g(e))for(var i=0;i<this.length;i++)this.parent[i+this.offset]=e[i];else r=="string"&&(this.length=this.write(e,0,t))}}function g(e){return Array.isArray(e)||m.isBuffer(e)||e&&typeof e=="object"&&typeof e.length=="number"}function b(){y=new u(m.poolSize),y.used=0}function w(e,t,n,r){var i=0;return r||(a.ok(typeof n=="boolean","missing or invalid endian"),a.ok(t!==undefined&&t!==null,"missing offset"),a.ok(t+1<e.length,"Trying to read beyond buffer length")),n?(i=e.parent[e.offset+t]<<8,i|=e.parent[e.offset+t+1]):(i=e.parent[e.offset+t],i|=e.parent[e.offset+t+1]<<8),i}function E(e,t,n,r){var i=0;return r||(a.ok(typeof n=="boolean","missing or invalid endian"),a.ok(t!==undefined&&t!==null,"missing offset"),a.ok(t+3<e.length,"Trying to read beyond buffer length")),n?(i=e.parent[e.offset+t+1]<<16,i|=e.parent[e.offset+t+2]<<8,i|=e.parent[e.offset+t+3],i+=e.parent[e.offset+t]<<24>>>0):(i=e.parent[e.offset+t+2]<<16,i|=e.parent[e.offset+t+1]<<8,i|=e.parent[e.offset+t],i+=e.parent[e.offset+t+3]<<24>>>0),i}function S(e,t,n,r){var i,s;return r||(a.ok(typeof n=="boolean","missing or invalid endian"),a.ok(t!==undefined&&t!==null,"missing offset"),a.ok(t+1<e.length,"Trying to read beyond buffer length")),s=w(e,t,n,r),i=s&32768,i?(65535-s+1)*-1:s}function x(e,t,n,r){var i,s;return r||(a.ok(typeof n=="boolean","missing or invalid endian"),a.ok(t!==undefined&&t!==null,"missing offset"),a.ok(t+3<e.length,"Trying to read beyond buffer length")),s=E(e,t,n,r),i=s&2147483648,i?(4294967295-s+1)*-1:s}function T(t,n,r,i){return i||(a.ok(typeof r=="boolean","missing or invalid endian"),a.ok(n+3<t.length,"Trying to read beyond buffer length")),e("./buffer_ieee754").readIEEE754(t,n,r,23,4)}function N(t,n,r,i){return i||(a.ok(typeof r=="boolean","missing or invalid endian"),a.ok(n+7<t.length,"Trying to read beyond buffer length")),e("./buffer_ieee754").readIEEE754(t,n,r,52,8)}function C(e,t){a.ok(typeof e=="number","cannot write a non-number as a number"),a.ok(e>=0,"specified a negative value for writing an unsigned value"),a.ok(e<=t,"value is larger than maximum value for type"),a.ok(Math.floor(e)===e,"value has a fractional component")}function k(e,t,n,r,i){i||(a.ok(t!==undefined&&t!==null,"missing value"),a.ok(typeof r=="boolean","missing or invalid endian"),a.ok(n!==undefined&&n!==null,"missing offset"),a.ok(n+1<e.length,"trying to write beyond buffer length"),C(t,65535)),r?(e.parent[e.offset+n]=(t&65280)>>>8,e.parent[e.offset+n+1]=t&255):(e.parent[e.offset+n+1]=(t&65280)>>>8,e.parent[e.offset+n]=t&255)}function L(e,t,n,r,i){i||(a.ok(t!==undefined&&t!==null,"missing value"),a.ok(typeof r=="boolean","missing or invalid endian"),a.ok(n!==undefined&&n!==null,"missing offset"),a.ok(n+3<e.length,"trying to write beyond buffer length"),C(t,4294967295)),r?(e.parent[e.offset+n]=t>>>24&255,e.parent[e.offset+n+1]=t>>>16&255,e.parent[e.offset+n+2]=t>>>8&255,e.parent[e.offset+n+3]=t&255):(e.parent[e.offset+n+3]=t>>>24&255,e.parent[e.offset+n+2]=t>>>16&255,e.parent[e.offset+n+1]=t>>>8&255,e.parent[e.offset+n]=t&255)}function A(e,t,n){a.ok(typeof e=="number","cannot write a non-number as a number"),a.ok(e<=t,"value larger than maximum allowed value"),a.ok(e>=n,"value smaller than minimum allowed value"),a.ok(Math.floor(e)===e,"value has a fractional component")}function O(e,t,n){a.ok(typeof e=="number","cannot write a non-number as a number"),a.ok(e<=t,"value larger than maximum allowed value"),a.ok(e>=n,"value smaller than minimum allowed value")}function M(e,t,n,r,i){i||(a.ok(t!==undefined&&t!==null,"missing value"),a.ok(typeof r=="boolean","missing or invalid endian"),a.ok(n!==undefined&&n!==null,"missing offset"),a.ok(n+1<e.length,"Trying to write beyond buffer length"),A(t,32767,-32768)),t>=0?k(e,t,n,r,i):k(e,65535+t+1,n,r,i)}function _(e,t,n,r,i){i||(a.ok(t!==undefined&&t!==null,"missing value"),a.ok(typeof r=="boolean","missing or invalid endian"),a.ok(n!==undefined&&n!==null,"missing offset"),a.ok(n+3<e.length,"Trying to write beyond buffer length"),A(t,2147483647,-2147483648)),t>=0?L(e,t,n,r,i):L(e,4294967295+t+1,n,r,i)}function D(t,n,r,i,s){s||(a.ok(n!==undefined&&n!==null,"missing value"),a.ok(typeof i=="boolean","missing or invalid endian"),a.ok(r!==undefined&&r!==null,"missing offset"),a.ok(r+3<t.length,"Trying to write beyond buffer length"),O(n,3.4028234663852886e38,-3.4028234663852886e38)),e("./buffer_ieee754").writeIEEE754(t,n,r,i,23,4)}function P(t,n,r,i,s){s||(a.ok(n!==undefined&&n!==null,"missing value"),a.ok(typeof i=="boolean","missing or invalid endian"),a.ok(r!==undefined&&r!==null,"missing offset"),a.ok(r+7<t.length,"Trying to write beyond buffer length"),O(n,1.7976931348623157e308,-1.7976931348623157e308)),e("./buffer_ieee754").writeIEEE754(t,n,r,i,52,8)}var a=e("assert");n.INSPECT_MAX_BYTES=50,u.byteLength=function(e,t){switch(t||"utf8"){case"hex":return e.length/2;case"utf8":case"utf-8":return l(e).length;case"ascii":return e.length;case"base64":return h(e).length;default:throw new Error("Unknown encoding")}},u.prototype.utf8Write=function(e,t,n){var r,i;return u._charsWritten=p(l(e),this,t,n)},u.prototype.asciiWrite=function(e,t,n){var r,i;return u._charsWritten=p(c(e),this,t,n)},u.prototype.base64Write=function(e,t,n){var r,i;return u._charsWritten=p(h(e),this,t,n)},u.prototype.base64Slice=function(t,n){var r=Array.prototype.slice.apply(this,arguments);return e("base64-js").fromByteArray(r)},u.prototype.utf8Slice=function(){var e=Array.prototype.slice.apply(this,arguments),t="",n="",r=0;while(r<e.length)e[r]<=127?(t+=d(n)+String.fromCharCode(e[r]),n=""):n+="%"+e[r].toString(16),r++;return t+d(n)},u.prototype.asciiSlice=function(){var e=Array.prototype.slice.apply(this,arguments),t="";for(var n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},u.prototype.inspect=function(){var e=[],t=this.length;for(var r=0;r<t;r++){e[r]=f(this[r]);if(r==n.INSPECT_MAX_BYTES){e[r+1]="...";break}}return"<SlowBuffer "+e.join(" ")+">"},u.prototype.hexSlice=function(e,t){var n=this.length;if(!e||e<0)e=0;if(!t||t<0||t>n)t=n;var r="";for(var i=e;i<t;i++)r+=f(this[i]);return r},u.prototype.toString=function(e,t,n){e=String(e||"utf8").toLowerCase(),t=+t||0,typeof n=="undefined"&&(n=this.length);if(+n==t)return"";switch(e){case"hex":return this.hexSlice(t,n);case"utf8":case"utf-8":return this.utf8Slice(t,n);case"ascii":return this.asciiSlice(t,n);case"binary":return this.binarySlice(t,n);case"base64":return this.base64Slice(t,n);case"ucs2":case"ucs-2":return this.ucs2Slice(t,n);default:throw new Error("Unknown encoding")}},u.prototype.hexWrite=function(e,t,n){t=+t||0;var r=this.length-t;n?(n=+n,n>r&&(n=r)):n=r;var i=e.length;if(i%2)throw new Error("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;s++){var o=parseInt(e.substr(s*2,2),16);if(isNaN(o))throw new Error("Invalid hex string");this[t+s]=o}return u._charsWritten=s*2,s},u.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=undefined);else{var i=r;r=t,t=n,n=i}t=+t||0;var s=this.length-t;n?(n=+n,n>s&&(n=s)):n=s,r=String(r||"utf8").toLowerCase();switch(r){case"hex":return this.hexWrite(e,t,n);case"utf8":case"utf-8":return this.utf8Write(e,t,n);case"ascii":return this.asciiWrite(e,t,n);case"binary":return this.binaryWrite(e,t,n);case"base64":return this.base64Write(e,t,n);case"ucs2":case"ucs-2":return this.ucs2Write(e,t,n);default:throw new Error("Unknown encoding")}},u.prototype.slice=function(e,t){t===undefined&&(t=this.length);if(t>this.length)throw new Error("oob");if(e>t)throw new Error("oob");return new m(this,t-e,+e)},u.prototype.copy=function(e,t,n,r){var i=[];for(var s=n;s<r;s++)a.ok(typeof this[s]!="undefined","copying undefined buffer bytes!"),i.push(this[s]);for(var s=t;s<t+i.length;s++)e[s]=i[s-t]},n.SlowBuffer=u,n.Buffer=m,m.poolSize=8192;var y;m.isBuffer=function(t){return t instanceof m||t instanceof u},m.concat=function(e,t){if(!Array.isArray(e))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(e.length===0)return new m(0);if(e.length===1)return e[0];if(typeof t!="number"){t=0;for(var n=0;n<e.length;n++){var r=e[n];t+=r.length}}var i=new m(t),s=0;for(var n=0;n<e.length;n++){var r=e[n];r.copy(i,s),s+=r.length}return i},m.prototype.inspect=function(){var t=[],r=this.length;for(var i=0;i<r;i++){t[i]=f(this.parent[i+this.offset]);if(i==n.INSPECT_MAX_BYTES){t[i+1]="...";break}}return"<Buffer "+t.join(" ")+">"},m.prototype.get=function(t){if(t<0||t>=this.length)throw new Error("oob");return this.parent[this.offset+t]},m.prototype.set=function(t,n){if(t<0||t>=this.length)throw new Error("oob");return this.parent[this.offset+t]=n},m.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=undefined);else{var i=r;r=t,t=n,n=i}t=+t||0;var s=this.length-t;n?(n=+n,n>s&&(n=s)):n=s,r=String(r||"utf8").toLowerCase();var o;switch(r){case"hex":o=this.parent.hexWrite(e,this.offset+t,n);break;case"utf8":case"utf-8":o=this.parent.utf8Write(e,this.offset+t,n);break;case"ascii":o=this.parent.asciiWrite(e,this.offset+t,n);break;case"binary":o=this.parent.binaryWrite(e,this.offset+t,n);break;case"base64":o=this.parent.base64Write(e,this.offset+t,n);break;case"ucs2":case"ucs-2":o=this.parent.ucs2Write(e,this.offset+t,n);break;default:throw new Error("Unknown encoding")}return m._charsWritten=u._charsWritten,o},m.prototype.toString=function(e,t,n){e=String(e||"utf8").toLowerCase(),typeof t=="undefined"||t<0?t=0:t>this.length&&(t=this.length),typeof n=="undefined"||n>this.length?n=this.length:n<0&&(n=0),t+=this.offset,n+=this.offset;switch(e){case"hex":return this.parent.hexSlice(t,n);case"utf8":case"utf-8":return this.parent.utf8Slice(t,n);case"ascii":return this.parent.asciiSlice(t,n);case"binary":return this.parent.binarySlice(t,n);case"base64":return this.parent.base64Slice(t,n);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(t,n);default:throw new Error("Unknown encoding")}},m.byteLength=u.byteLength,m.prototype.fill=function(t,n,r){t||(t=0),n||(n=0),r||(r=this.length),typeof t=="string"&&(t=t.charCodeAt(0));if(typeof t!="number"||isNaN(t))throw new Error("value is not a number");if(r<n)throw new Error("end < start");if(r===n)return 0;if(this.length==0)return 0;if(n<0||n>=this.length)throw new Error("start out of bounds");if(r<0||r>this.length)throw new Error("end out of bounds");return this.parent.fill(t,n+this.offset,r+this.offset)},m.prototype.copy=function(e,t,n,r){var i=this;n||(n=0),r||(r=this.length),t||(t=0);if(r<n)throw new Error("sourceEnd < sourceStart");if(r===n)return 0;if(e.length==0||i.length==0)return 0;if(t<0||t>=e.length)throw new Error("targetStart out of bounds");if(n<0||n>=i.length)throw new Error("sourceStart out of bounds");if(r<0||r>i.length)throw new Error("sourceEnd out of bounds");return r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n),this.parent.copy(e.parent,t+e.offset,n+this.offset,r+this.offset)},m.prototype.slice=function(e,t){t===undefined&&(t=this.length);if(t>this.length)throw new Error("oob");if(e>t)throw new Error("oob");return new m(this.parent,t-e,+e+this.offset)},m.prototype.utf8Slice=function(e,t){return this.toString("utf8",e,t)},m.prototype.binarySlice=function(e,t){return this.toString("binary",e,t)},m.prototype.asciiSlice=function(e,t){return this.toString("ascii",e,t)},m.prototype.utf8Write=function(e,t){return this.write(e,t,"utf8")},m.prototype.binaryWrite=function(e,t){return this.write(e,t,"binary")},m.prototype.asciiWrite=function(e,t){return this.write(e,t,"ascii")},m.prototype.readUInt8=function(e,t){var n=this;return t||(a.ok(e!==undefined&&e!==null,"missing offset"),a.ok(e<n.length,"Trying to read beyond buffer length")),n.parent[n.offset+e]},m.prototype.readUInt16LE=function(e,t){return w(this,e,!1,t)},m.prototype.readUInt16BE=function(e,t){return w(this,e,!0,t)},m.prototype.readUInt32LE=function(e,t){return E(this,e,!1,t)},m.prototype.readUInt32BE=function(e,t){return E(this,e,!0,t)},m.prototype.readInt8=function(e,t){var n=this,r;return t||(a.ok(e!==undefined&&e!==null,"missing offset"),a.ok(e<n.length,"Trying to read beyond buffer length")),r=n.parent[n.offset+e]&128,r?(255-n.parent[n.offset+e]+1)*-1:n.parent[n.offset+e]},m.prototype.readInt16LE=function(e,t){return S(this,e,!1,t)},m.prototype.readInt16BE=function(e,t){return S(this,e,!0,t)},m.prototype.readInt32LE=function(e,t){return x(this,e,!1,t)},m.prototype.readInt32BE=function(e,t){return x(this,e,!0,t)},m.prototype.readFloatLE=function(e,t){return T(this,e,!1,t)},m.prototype.readFloatBE=function(e,t){return T(this,e,!0,t)},m.prototype.readDoubleLE=function(e,t){return N(this,e,!1,t)},m.prototype.readDoubleBE=function(e,t){return N(this,e,!0,t)},m.prototype.writeUInt8=function(e,t,n){var r=this;n||(a.ok(e!==undefined&&e!==null,"missing value"),a.ok(t!==undefined&&t!==null,"missing offset"),a.ok(t<r.length,"trying to write beyond buffer length"),C(e,255)),r.parent[r.offset+t]=e},m.prototype.writeUInt16LE=function(e,t,n){k(this,e,t,!1,n)},m.prototype.writeUInt16BE=function(e,t,n){k(this,e,t,!0,n)},m.prototype.writeUInt32LE=function(e,t,n){L(this,e,t,!1,n)},m.prototype.writeUInt32BE=function(e,t,n){L(this,e,t,!0,n)},m.prototype.writeInt8=function(e,t,n){var r=this;n||(a.ok(e!==undefined&&e!==null,"missing value"),a.ok(t!==undefined&&t!==null,"missing offset"),a.ok(t<r.length,"Trying to write beyond buffer length"),A(e,127,-128)),e>=0?r.writeUInt8(e,t,n):r.writeUInt8(255+e+1,t,n)},m.prototype.writeInt16LE=function(e,t,n){M(this,e,t,!1,n)},m.prototype.writeInt16BE=function(e,t,n){M(this,e,t,!0,n)},m.prototype.writeInt32LE=function(e,t,n){_(this,e,t,!1,n)},m.prototype.writeInt32BE=function(e,t,n){_(this,e,t,!0,n)},m.prototype.writeFloatLE=function(e,t,n){D(this,e,t,!1,n)},m.prototype.writeFloatBE=function(e,t,n){D(this,e,t,!0,n)},m.prototype.writeDoubleLE=function(e,t,n){P(this,e,t,!1,n)},m.prototype.writeDoubleBE=function(e,t,n){P(this,e,t,!0,n)},u.prototype.readUInt8=m.prototype.readUInt8,u.prototype.readUInt16LE=m.prototype.readUInt16LE,u.prototype.readUInt16BE=m.prototype.readUInt16BE,u.prototype.readUInt32LE=m.prototype.readUInt32LE,u.prototype.readUInt32BE=m.prototype.readUInt32BE,u.prototype.readInt8=m.prototype.readInt8,u.prototype.readInt16LE=m.prototype.readInt16LE,u.prototype.readInt16BE=m.prototype.readInt16BE,u.prototype.readInt32LE=m.prototype.readInt32LE,u.prototype.readInt32BE=m.prototype.readInt32BE,u.prototype.readFloatLE=m.prototype.readFloatLE,u.prototype.readFloatBE=m.prototype.readFloatBE,u.prototype.readDoubleLE=m.prototype.readDoubleLE,u.prototype.readDoubleBE=m.prototype.readDoubleBE,u.prototype.writeUInt8=m.prototype.writeUInt8,u.prototype.writeUInt16LE=m.prototype.writeUInt16LE,u.prototype.writeUInt16BE=m.prototype.writeUInt16BE,u.prototype.writeUInt32LE=m.prototype.writeUInt32LE,u.prototype.writeUInt32BE=m.prototype.writeUInt32BE,u.prototype.writeInt8=m.prototype.writeInt8,u.prototype.writeInt16LE=m.prototype.writeInt16LE,u.prototype.writeInt16BE=m.prototype.writeInt16BE,u.prototype.writeInt32LE=m.prototype.writeInt32LE,u.prototype.writeInt32BE=m.prototype.writeInt32BE,u.prototype.writeFloatLE=m.prototype.writeFloatLE,u.prototype.writeFloatBE=m.prototype.writeFloatBE,u.prototype.writeDoubleLE=m.prototype.writeDoubleLE,u.prototype.writeDoubleBE=m.prototype.writeDoubleBE}),e.define("/node_modules/buffer-browserify/node_modules/base64-js/package.json",function(e,t,n,r,i,s,o){t.exports={main:"lib/b64.js"}}),e.define("/node_modules/buffer-browserify/node_modules/base64-js/lib/b64.js",function(e,t,n,r,i,s,o){(function(e){"use strict";function r(e){var t,r,i,s,o,u;if(e.length%4>0)throw"Invalid string. Length must be a multiple of 4";o=e.indexOf("="),o=o>0?e.length-o:0,u=[],i=o>0?e.length-4:e.length;for(t=0,r=0;t<i;t+=4,r+=3)s=n.indexOf(e[t])<<18|n.indexOf(e[t+1])<<12|n.indexOf(e[t+2])<<6|n.indexOf(e[t+3]),u.push((s&16711680)>>16),u.push((s&65280)>>8),u.push(s&255);return o===2?(s=n.indexOf(e[t])<<2|n.indexOf(e[t+1])>>4,u.push(s&255)):o===1&&(s=n.indexOf(e[t])<<10|n.indexOf(e[t+1])<<4|n.indexOf(e[t+2])>>2,u.push(s>>8&255),u.push(s&255)),u}function i(e){function u(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[e&63]}var t,r=e.length%3,i="",s,o;for(t=0,o=e.length-r;t<o;t+=3)s=(e[t]<<16)+(e[t+1]<<8)+e[t+2],i+=u(s);switch(r){case 1:s=e[e.length-1],i+=n[s>>2],i+=n[s<<4&63],i+="==";break;case 2:s=(e[e.length-2]<<8)+e[e.length-1],i+=n[s>>10],i+=n[s>>4&63],i+=n[s<<2&63],i+="="}return i}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.exports.toByteArray=r,t.exports.fromByteArray=i})()}),e.define("/node_modules/buffer-browserify/buffer_ieee754.js",function(e,t,n,r,i,s,o){n.readIEEE754=function(e,t,n,r,i){var s,o,u=i*8-r-1,a=(1<<u)-1,f=a>>1,l=-7,c=n?0:i-1,h=n?1:-1,p=e[t+c];c+=h,s=p&(1<<-l)-1,p>>=-l,l+=u;for(;l>0;s=s*256+e[t+c],c+=h,l-=8);o=s&(1<<-l)-1,s>>=-l,l+=r;for(;l>0;o=o*256+e[t+c],c+=h,l-=8);if(s===0)s=1-f;else{if(s===a)return o?NaN:(p?-1:1)*Infinity;o+=Math.pow(2,r),s-=f}return(p?-1:1)*o*Math.pow(2,s-r)},n.writeIEEE754=function(e,t,n,r,i,s){var o,u,a,f=s*8-i-1,l=(1<<f)-1,c=l>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?s-1:0,d=r?-1:1,v=t<0||t===0&&1/t<0?1:0;t=Math.abs(t),isNaN(t)||t===Infinity?(u=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-o))<1&&(o--,a*=2),o+c>=1?t+=h/a:t+=h*Math.pow(2,1-c),t*a>=2&&(o++,a/=2),o+c>=l?(u=0,o=l):o+c>=1?(u=(t*a-1)*Math.pow(2,i),o+=c):(u=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));for(;i>=8;e[n+p]=u&255,p+=d,u/=256,i-=8);o=o<<i|u,f+=i;for(;f>0;e[n+p]=o&255,p+=d,o/=256,f-=8);e[n+p-d]|=v*128}}),e.define("/lib/browser/it.js",function(e,t,n,r,i,s,o){(function(){"use strict";function t(){var t=e("../extended"),n=t.merge,r=e("../interfaces"),i=e("../formatters/reporter");e("./formatters/html"),e("../formatters/tap");var s,o={assert:e("../extension"),reporter:function(e,t){if(!e)return s;s=i.getInstance(e,t)},printSummary:function(){r.printSummary()},run:function(n){var n;if(typeof window!="undefined"){try{o.reporter("html","it")}catch(i){o.reporter("tap")}var s=window.location.search.substring(1),u={};s.length>0&&t(s.split("&")).forEach(function(e){var t=e.split("=");u[decodeURIComponent(t[0])]=decodeURIComponent(t[1])}),u.hasOwnProperty("filter")&&(n=u.filter)}else o.reporter("tap");return r.run(n)}};return t(r).forEach(function(e){o=n({},e,o)}),o}"function"==typeof this.define&&this.define.amd?define([],function(){return t()}):this.it=t()}).call(typeof window!="undefined"?window:o)}),e("/lib/browser/it.js")})();